CREATE TABLE GC_FID_T
(
  G3E_ID         NUMBER(10),
  G3E_FNO        NUMBER(5),
  G3E_FID        NUMBER(10),
  G3E_CNO        NUMBER(5),
  G3E_CID        NUMBER(10),
  G3E_GEOMETRY   CHAR(1 BYTE),
  G3E_ALIGNMENT  NUMBER(5)
);
 
 
begin
g3e_metadata.createsdotable('GC_FID_T',1);
end;
/
 
INSERT INTO G3E_COMPONENT ( G3E_CNO, G3E_USERNAME, G3E_NAME, G3E_TOOLTIP, G3E_TYPE, G3E_TABLE,
G3E_DETAIL, G3E_ALIGNMENTFIELD, G3E_DCNO, G3E_EDITDATE, G3E_DTNO, G3E_GEOMETRYFIELD,
G3E_GEOMETRYTYPE, G3E_SUBSETATTRIBUTE, G3E_SUBTYPE, G3E_LOCALECOMMENT, G3E_LRNO,
G3E_PARTITIONATTRIBUTE ) VALUES ( 
40, 'Texto do FID', 'GC_FID_T', 'FID da entidade', 1024, 'GC_FID_T', 0, 
'G3E_ALIGNMENT', 31, SYSDATE, NULL, 'G3E_GEOMETRY', 'TextPointGeometry', NULL, NULL, NULL, NULL, NULL); 
COMMIT;
 
/*------------------------------------------------------------------------Poste--------------------------------------------------------------*/ 
insert into g3e_featurecomponent (G3E_FCNO, G3E_FNO, G3E_CNO, G3E_REQUIRED, G3E_REPEATING, G3E_AUTOREPEAT, G3E_PINO, G3E_ORDINAL, G3E_INTERFACEARGUMENT, G3E_DERIVEDFROMCNO, G3E_INSERTORDINAL, G3E_DELETEORDINAL, G3E_REFRESH, G3E_ALTERNATEREQUIREDCNO, G3E_REPLACE, G3E_EDITDATE, G3E_BREAKACTION, G3E_COMPONENTELIMINATION, G3E_COMPONENTASSIGNMENT, G3E_COMPONENTADJUSTMENT, G3E_GEOPROXIMITYTOLERANCE, G3E_BREAKLINEARCNO, G3E_ALTERNATEGEOGRAPHIC, G3E_ALTERNATEGEOORDINAL, G3E_RINO, G3E_RIARGGROUPNO, G3E_INCLUDEINPLACEMENT, G3E_MERGEMAXDISTANCE, G3E_MERGECOMMONPRECOND, G3E_MERGEPRECOND, G3E_MERGEOCCURRENCES, G3E_MERGERINO, G3E_MERGERIARGGROUPNO, G3E_CCNO, G3E_GENERATE)
values (3000 + 40, 3000, 40, 0, 0, 0, 7, (SELECT MAX(G3E_ORDINAL)+1 FROM G3E_FEATURECOMPONENT), 
'0C20010000001000000001000000010000000C20010000001000000000000000040000000800000000000300000026004800390008000000000000000000080000000000000000000800000000000000000008000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000', null, (SELECT MAX(G3E_ORDINAL)+1 FROM G3E_FEATURECOMPONENT), (SELECT MAX(G3E_ORDINAL)+1 FROM G3E_FEATURECOMPONENT), 0, 3031, 1, SYSDATE, 1, 2, 1, 1, 1, null, 0, 0, null, null, 1, null, null, null, 1, null, null, null, 0);

 

 --POLE_FID_T
CREATE OR REPLACE VIEW VGC_POLE_FID_T
(G3E_ID, G3E_FNO, G3E_CNO, G3E_FID, G3E_CID, G3E_GEOMETRY, G3E_ALIGNMENT,
 JOB_ID, JOB_STATE, FEATURE_STATE, SWITCH_CENTRE_CLLI, OWNERSHIP)
AS 
SELECT 
B.G3E_ID,
B.G3E_FNO,
B.G3E_CNO,
B.G3E_FID,
B.G3E_CID,
B.G3E_GEOMETRY,
B.G3E_ALIGNMENT,
D.JOB_ID,
D.JOB_STATE,
D.FEATURE_STATE,
D.SWITCH_CENTRE_CLLI,
D.OWNERSHIP
FROM
GC_FID_T B,
GC_NETELEM D
WHERE
D.G3E_FNO=3000
AND B.G3E_FID=D.G3E_FID;

 
INSERT INTO G3E_COMPONENTVIEWDEFINITION ( G3E_VNO, G3E_VIEW, G3E_FNO, G3E_CNO, G3E_LENO, G3E_FIELDS,
G3E_EDITDATE, G3E_ATTRAFFECTSMEMBERSHIP )
VALUES (3000 + 40, 'VGC_POLE_FID_T', 3000, 40, NULL, NULL, SYSDATE, 0); 
COMMIT;
 

 
INSERT INTO G3E_COMPONENTVIEWCOMPOSITION ( G3E_CVCNO, G3E_VNO, G3E_CNO, G3E_FNO )
VALUES ((3000 + 40) * 100 + 40, 3000 + 40, 40, 3000);
COMMIT; 
 

 
INSERT INTO G3E_COLUMN_METADATA ( TABLENAME, COLUMNNAME, COLUMNTYPE, COLUMNSUBTYPE, ATTRIBUTES, GEOMETRYFORMAT,
 SDOORDCNT, SDOESEQ, COORDSYSTEMINDEX ) 
VALUES ('GC_FID_T', 'G3E_GEOMETRY', 32, 10, NULL, NULL, 2, NULL, NULL);

INSERT INTO G3E_COLUMN_METADATA ( TABLENAME, COLUMNNAME, COLUMNTYPE, COLUMNSUBTYPE, ATTRIBUTES, GEOMETRYFORMAT,
 SDOORDCNT, SDOESEQ, COORDSYSTEMINDEX ) 
VALUES ('VGC_POLE_FID_T', 'G3E_GEOMETRY', 32, 10, NULL, NULL, 2, NULL, NULL);
COMMIT;
 

 
INSERT INTO G3E_LTTTABLE ( G3E_LTTNO, G3E_TABLE)
VALUES ((select max(G3E_LTTNO)+1 from G3E_LTTTABLE),'GC_FID_T');
COMMIT;
 

 
INSERT INTO MODIFIEDTABLES ( MODIFIEDTABLEID, TABLENAME) 
VALUES ((select max(MODIFIEDTABLEID)+1 from MODIFIEDTABLES),'GC_FID_T');

INSERT INTO MODIFIEDTABLES ( MODIFIEDTABLEID, TABLENAME) 
VALUES ((select max(MODIFIEDTABLEID)+1 from MODIFIEDTABLES),'VGC_POLE_FID_T');
COMMIT;
 

 

 
BEGIN
gc_compileinvalidobjects;
update G3E_GENERALPARAMETER set G3E_VALUE='1' where G3E_NAME='IgnoreSubsettingForLTT';
update G3E_GENERALPARAMETER_OPTABLE set G3E_VALUE='1' where G3E_NAME='IgnoreSubsettingForLTT';
COMMIT;
G3EOneTable.InstallOneTable('GC_FID_T',1);

update G3E_GENERALPARAMETER set G3E_VALUE='0' where G3E_NAME='IgnoreSubsettingForLTT';
update G3E_GENERALPARAMETER_OPTABLE set G3E_VALUE='0' where G3E_NAME='IgnoreSubsettingForLTT';
COMMIT;
END;
/

 
BEGIN
create_component_view.create_geom_component_view ('VGC_POLE_FID_T','GC_FID_T');
END;
/
 


 
INSERT INTO G3E_TEXTSTYLE (G3E_SNO, G3E_USERNAME, G3E_COLOR, G3E_FONTNAME, G3E_FONTBOLD, G3E_FONTITALIC, G3E_FONTSTRIKETHROUGH, G3E_FONTUNDERLINE, G3E_FONTWEIGHT, G3E_SIZE, G3E_TEXTBOX, G3E_TEXTBOXFILLCOLOR, G3E_TEXTBOXFILLTYPE, G3E_TEXTBOXFRAME, G3E_TEXTBOXFRAMECOLOR, G3E_TEXTBOXFRAMEWIDTH, G3E_PLOTREDLINE, G3E_EDITDATE, G3E_JUSTIFICATION, G3E_UNDERLINESNO, G3E_LEFTTEXTBOXOFFSET, G3E_RIGHTTEXTBOXOFFSET, G3E_TOPTEXTBOXOFFSET, G3E_BOTTOMTEXTBOXOFFSET) 
values (327020420, 'Texto do FID', 16744448, 'Arial', 0, 0, 0, 0, 400, 12, 0, -2, 0, 1, 0, 2.834652, 1, sysdate, 1, null, .22, .22, .22, .22);
COMMIT;
 

 
INSERT INTO G3E_STYLERULE ( G3E_SRROWNO, G3E_SRNO, G3E_RULE, G3E_FILTER, G3E_FILTERORDINAL, G3E_SNO,
G3E_EDITDATE ) VALUES ( 
290550309, 2905507, 'Texto do FID', NULL, 6, 327020420, SYSDATE); 
COMMIT;
 

 
INSERT INTO G3E_LABEL ( G3E_LFNO, G3E_USERNAME, G3E_CONTENT ) VALUES ( 
27301002, 'Texto do FID', '[G3E_FID]'); 
COMMIT;
 

 
INSERT INTO G3E_LABELRULE ( G3E_LRROWNO, G3E_LRNO, G3E_RULE, G3E_FILTERORDINAL, G3E_LFNO
 ) VALUES ( 
327500118, 3275007, 'Texto do FID', 1, 27301002); 
COMMIT;
 

 
INSERT INTO G3E_LEGENDENTRY (G3E_LENO, G3E_LEGENDENTRY, G3E_USERNAME, G3E_VNO, G3E_SRNO, G3E_LRNO,
G3E_EDITDATE, G3E_ROLE ) VALUES ( 
((3000 + 40)*100 + 40), 'VGC_POLE_FID_T', 'Texto FID do Poste', 3000 + 40, 2905507, 3275007, SYSDATE, 'EVERYONE');
COMMIT; 
 

 
UPDATE G3E_COMPONENTVIEWDEFINITION SET G3E_LENO=((3000 + 40)*100 + 40) WHERE G3E_VNO=(3000 + 40);
COMMIT;
 

 
INSERT INTO G3E_LEGGEO_DEFAULT ( G3E_LENO, G3E_DISPLAYMODE, G3E_DISPLAYSCALEMIN, G3E_DISPLAYSCALEMAX
, G3E_DISPLAYORDINAL, G3E_USEDISPLAYSCALE, G3E_LOCATABLE ) VALUES ( 
((3000 + 40)*100 + 40), 1, 1, 10000, 5, 1, 1); 
COMMIT;
 

 
UPDATE G3E_LEGGEO_DEFDSP SET G3E_ORDINAL = G3E_ORDINAL + 3 WHERE G3E_ORDINAL>(SELECT D.G3E_ORDINAL FROM G3E_LEGGEO_DEFDSP D WHERE D.G3E_LEGENDITEM = 'Pole');

INSERT INTO G3E_LEGGEO_DEFDSP ( G3E_LEGENDITEM, G3E_USERNAME, G3E_LEVEL, G3E_ORDINAL
, G3E_LEAFINDICATOR, G3E_DCROWNO ) VALUES ( 
'VGC_POLE_FID_T', 'Texto FID do Poste', 3, (SELECT G3E_ORDINAL+1 FROM G3E_LEGGEO_DEFDSP WHERE G3E_LEGENDITEM = 'Pole'), 1, (select max(G3E_DCROWNO)+1 from G3E_LEGGEO_DEFDSP)); 
COMMIT;




insert into publicador_ddc_view values ((SELECT MAX(ID)+1 FROM PUBLICADOR_DDC_VIEW), (SELECT MAX(PUBLICADOR_DDC)+1 FROM PUBLICADOR_DDC_VIEW), 'VGC_POLE_FID_T'); 
COMMIT;




/*----------------------------------------------------------------------Armario--------------------------------------------------------------*/
insert into g3e_featurecomponent (G3E_FCNO, G3E_FNO, G3E_CNO, G3E_REQUIRED, G3E_REPEATING, G3E_AUTOREPEAT, G3E_PINO, G3E_ORDINAL, G3E_INTERFACEARGUMENT, G3E_DERIVEDFROMCNO, G3E_INSERTORDINAL, G3E_DELETEORDINAL, G3E_REFRESH, G3E_ALTERNATEREQUIREDCNO, G3E_REPLACE, G3E_EDITDATE, G3E_BREAKACTION, G3E_COMPONENTELIMINATION, G3E_COMPONENTASSIGNMENT, G3E_COMPONENTADJUSTMENT, G3E_GEOPROXIMITYTOLERANCE, G3E_BREAKLINEARCNO, G3E_ALTERNATEGEOGRAPHIC, G3E_ALTERNATEGEOORDINAL, G3E_RINO, G3E_RIARGGROUPNO, G3E_INCLUDEINPLACEMENT, G3E_MERGEMAXDISTANCE, G3E_MERGECOMMONPRECOND, G3E_MERGEPRECOND, G3E_MERGEOCCURRENCES, G3E_MERGERINO, G3E_MERGERIARGGROUPNO, G3E_CCNO, G3E_GENERATE)
values (10300 + 40, 10300, 40, 0, 0, 0, 7, (SELECT MAX(G3E_ORDINAL)+1 FROM G3E_FEATURECOMPONENT), 
'0C20010000001000000001000000010000000C20010000001000000000000000040000000800000000000300000026004800390008000000000000000000080000000000000000000800000000000000000008000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000', null, (SELECT MAX(G3E_ORDINAL)+1 FROM G3E_FEATURECOMPONENT), (SELECT MAX(G3E_ORDINAL)+1 FROM G3E_FEATURECOMPONENT), 0, 3031, 1, SYSDATE, 1, 2, 1, 1, 1, null, 0, 0, null, null, 1, null, null, null, 1, null, null, null, 0);
COMMIT;


CREATE OR REPLACE VIEW VGC_ITFACE_FID_T
(G3E_ID, G3E_FNO, G3E_CNO, G3E_FID, G3E_CID, G3E_GEOMETRY, G3E_ALIGNMENT,
 JOB_ID, JOB_STATE, FEATURE_STATE, SWITCH_CENTRE_CLLI, OWNERSHIP)
AS 
SELECT 
B.G3E_ID,
B.G3E_FNO,
B.G3E_CNO,
B.G3E_FID,
B.G3E_CID,
B.G3E_GEOMETRY,
B.G3E_ALIGNMENT,
D.JOB_ID,
D.JOB_STATE,
D.FEATURE_STATE,
D.SWITCH_CENTRE_CLLI,
D.OWNERSHIP
FROM
GC_FID_T B,
GC_NETELEM D
WHERE
D.G3E_FNO=10300
AND B.G3E_FID=D.G3E_FID;


INSERT INTO G3E_COMPONENTVIEWDEFINITION ( G3E_VNO, G3E_VIEW, G3E_FNO, G3E_CNO, G3E_LENO, G3E_FIELDS,
G3E_EDITDATE, G3E_ATTRAFFECTSMEMBERSHIP )
VALUES (10300 + 40 + 2, 'VGC_ITFACE_FID_T', 10300, 40, NULL, NULL, SYSDATE, 0); 
COMMIT;

INSERT INTO G3E_COMPONENTVIEWCOMPOSITION ( G3E_CVCNO, G3E_VNO, G3E_CNO, G3E_FNO )
VALUES ((10300 + 40 + 2) * 100 + 40 + 2, 10300 + 40 + 2, 40, 10300);
COMMIT;


INSERT INTO G3E_COLUMN_METADATA ( TABLENAME, COLUMNNAME, COLUMNTYPE, COLUMNSUBTYPE, ATTRIBUTES, GEOMETRYFORMAT,
 SDOORDCNT, SDOESEQ, COORDSYSTEMINDEX ) 
VALUES ('VGC_ITFACE_FID_T', 'G3E_GEOMETRY', 32, 10, NULL, NULL, 2, NULL, NULL);
COMMIT; 


INSERT INTO MODIFIEDTABLES ( MODIFIEDTABLEID, TABLENAME) 
VALUES ((select max(MODIFIEDTABLEID)+1 from MODIFIEDTABLES),'VGC_ITFACE_FID_T');
COMMIT;




BEGIN
create_component_view.create_geom_component_view ('VGC_ITFACE_FID_T','GC_FID_T');
END;
/




INSERT INTO G3E_LEGENDENTRY (G3E_LENO, G3E_LEGENDENTRY, G3E_USERNAME, G3E_VNO, G3E_SRNO, G3E_LRNO,
G3E_EDITDATE, G3E_ROLE ) VALUES ( 
((10300 + 40 + 2)*100 + 40), 'VGC_ITFACE_FID_T', 'Texto FID do Armario', 10300 + 40 + 2, 2905507, 3275007, SYSDATE, 'EVERYONE');
COMMIT;

UPDATE G3E_COMPONENTVIEWDEFINITION SET G3E_LENO=((10300 + 40 + 2)*100 + 40) WHERE G3E_VNO=10300 + 40 + 2;
COMMIT;


INSERT INTO G3E_LEGGEO_DEFAULT ( G3E_LENO, G3E_DISPLAYMODE, G3E_DISPLAYSCALEMIN, G3E_DISPLAYSCALEMAX
, G3E_DISPLAYORDINAL, G3E_USEDISPLAYSCALE, G3E_LOCATABLE ) VALUES ( 
((10300 + 40 + 2)*100 + 40), 1, 1, 10000, 5, 1, 1); 
COMMIT;

UPDATE G3E_LEGGEO_DEFDSP SET G3E_ORDINAL = G3E_ORDINAL + 3 WHERE G3E_ORDINAL>(SELECT D.G3E_ORDINAL FROM G3E_LEGGEO_DEFDSP D WHERE D.G3E_LEGENDITEM = 'Interface');

INSERT INTO G3E_LEGGEO_DEFDSP ( G3E_LEGENDITEM, G3E_USERNAME, G3E_LEVEL, G3E_ORDINAL
, G3E_LEAFINDICATOR, G3E_DCROWNO ) VALUES ( 
'VGC_ITFACE_FID_T', 'Texto FID do Armario', 3, (SELECT G3E_ORDINAL+1 FROM G3E_LEGGEO_DEFDSP WHERE G3E_LEGENDITEM = 'Interface'), 1, (select max(G3E_DCROWNO)+1 from G3E_LEGGEO_DEFDSP)); 
COMMIT;

BEGIN
g3e_metadata.create_gdometadata;
GDOTriggers.Create_GDOTriggers;
END;
/

insert into publicador_ddc_view values ((SELECT MAX(ID)+1 FROM PUBLICADOR_DDC_VIEW), (SELECT MAX(PUBLICADOR_DDC)+1 FROM PUBLICADOR_DDC_VIEW), 'VGC_ITFACE_FID_T'); 
COMMIT;

/*-------------------------------------------------------------------Aterramento--------------------------------------------------------------*/
insert into g3e_featurecomponent (G3E_FCNO, G3E_FNO, G3E_CNO, G3E_REQUIRED, G3E_REPEATING, G3E_AUTOREPEAT, G3E_PINO, G3E_ORDINAL, G3E_INTERFACEARGUMENT, G3E_DERIVEDFROMCNO, G3E_INSERTORDINAL, G3E_DELETEORDINAL, G3E_REFRESH, G3E_ALTERNATEREQUIREDCNO, G3E_REPLACE, G3E_EDITDATE, G3E_BREAKACTION, G3E_COMPONENTELIMINATION, G3E_COMPONENTASSIGNMENT, G3E_COMPONENTADJUSTMENT, G3E_GEOPROXIMITYTOLERANCE, G3E_BREAKLINEARCNO, G3E_ALTERNATEGEOGRAPHIC, G3E_ALTERNATEGEOORDINAL, G3E_RINO, G3E_RIARGGROUPNO, G3E_INCLUDEINPLACEMENT, G3E_MERGEMAXDISTANCE, G3E_MERGECOMMONPRECOND, G3E_MERGEPRECOND, G3E_MERGEOCCURRENCES, G3E_MERGERINO, G3E_MERGERIARGGROUPNO, G3E_CCNO, G3E_GENERATE)
values (19500 + 40, 19500, 40, 0, 0, 0, 7, (SELECT MAX(G3E_ORDINAL)+1 FROM G3E_FEATURECOMPONENT), 
'0C20010000001000000001000000010000000C20010000001000000000000000040000000800000000000300000026004800390008000000000000000000080000000000000000000800000000000000000008000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000', null, (SELECT MAX(G3E_ORDINAL)+1 FROM G3E_FEATURECOMPONENT), (SELECT MAX(G3E_ORDINAL)+1 FROM G3E_FEATURECOMPONENT), 0, 3031, 1, SYSDATE, 1, 2, 1, 1, 1, null, 0, 0, null, null, 1, null, null, null, 1, null, null, null, 0);
COMMIT;


CREATE OR REPLACE VIEW VGC_GRNDCD_FID_T
(G3E_ID, G3E_FNO, G3E_CNO, G3E_FID, G3E_CID, G3E_GEOMETRY, G3E_ALIGNMENT,
 JOB_ID, JOB_STATE, FEATURE_STATE, SWITCH_CENTRE_CLLI, OWNERSHIP)
AS 
SELECT 
B.G3E_ID,
B.G3E_FNO,
B.G3E_CNO,
B.G3E_FID,
B.G3E_CID,
B.G3E_GEOMETRY,
B.G3E_ALIGNMENT,
D.JOB_ID,
D.JOB_STATE,
D.FEATURE_STATE,
D.SWITCH_CENTRE_CLLI,
D.OWNERSHIP
FROM
GC_FID_T B,
GC_NETELEM D
WHERE
D.G3E_FNO=19500
AND B.G3E_FID=D.G3E_FID;


INSERT INTO G3E_COMPONENTVIEWDEFINITION ( G3E_VNO, G3E_VIEW, G3E_FNO, G3E_CNO, G3E_LENO, G3E_FIELDS,
G3E_EDITDATE, G3E_ATTRAFFECTSMEMBERSHIP )
VALUES (19500 + 30 + 2, 'VGC_GRNDCD_FID_T', 19500, 40, NULL, NULL, SYSDATE, 0); 
COMMIT;

INSERT INTO G3E_COMPONENTVIEWCOMPOSITION ( G3E_CVCNO, G3E_VNO, G3E_CNO, G3E_FNO )
VALUES ((19500 + 30 + 2) * 100 + 30 + 2, 19500 + 30 + 2, 40, 19500);
COMMIT;


INSERT INTO G3E_COLUMN_METADATA ( TABLENAME, COLUMNNAME, COLUMNTYPE, COLUMNSUBTYPE, ATTRIBUTES, GEOMETRYFORMAT,
 SDOORDCNT, SDOESEQ, COORDSYSTEMINDEX ) 
VALUES ('VGC_GRNDCD_FID_T', 'G3E_GEOMETRY', 32, 10, NULL, NULL, 2, NULL, NULL);
COMMIT; 


INSERT INTO MODIFIEDTABLES ( MODIFIEDTABLEID, TABLENAME) 
VALUES ((select max(MODIFIEDTABLEID)+1 from MODIFIEDTABLES),'VGC_GRNDCD_FID_T');
COMMIT;




BEGIN
create_component_view.create_geom_component_view ('VGC_GRNDCD_FID_T','GC_FID_T');
END;
/



INSERT INTO G3E_LEGENDENTRY (G3E_LENO, G3E_LEGENDENTRY, G3E_USERNAME, G3E_VNO, G3E_SRNO, G3E_LRNO,
G3E_EDITDATE, G3E_ROLE ) VALUES ( 
((19500 + 30 + 2)*100 + 30), 'VGC_GRNDCD_FID_T', 'Texto FID do Aterramento', 19500 + 30 + 2, 2905507, 3275007, SYSDATE, 'EVERYONE');
COMMIT;

UPDATE G3E_COMPONENTVIEWDEFINITION SET G3E_LENO=((19500 + 30 + 2)*100 + 30) WHERE G3E_VNO=19500 + 30 + 2;
COMMIT;


INSERT INTO G3E_LEGGEO_DEFAULT ( G3E_LENO, G3E_DISPLAYMODE, G3E_DISPLAYSCALEMIN, G3E_DISPLAYSCALEMAX
, G3E_DISPLAYORDINAL, G3E_USEDISPLAYSCALE, G3E_LOCATABLE ) VALUES ( 
((19500 + 30 + 2)*100 + 30), 1, 1, 10000, 5, 1, 1); 
COMMIT;

UPDATE G3E_LEGGEO_DEFDSP SET G3E_ORDINAL = G3E_ORDINAL + 3 WHERE G3E_ORDINAL>(SELECT D.G3E_ORDINAL FROM G3E_LEGGEO_DEFDSP D WHERE D.G3E_LEGENDITEM = 'Grounding Conductor');

INSERT INTO G3E_LEGGEO_DEFDSP ( G3E_LEGENDITEM, G3E_USERNAME, G3E_LEVEL, G3E_ORDINAL
, G3E_LEAFINDICATOR, G3E_DCROWNO ) VALUES ( 
'VGC_GRNDCD_FID_T', 'Texto FID do Aterramento', 3, (SELECT G3E_ORDINAL+1 FROM G3E_LEGGEO_DEFDSP WHERE G3E_LEGENDITEM = 'Grounding Conductor'), 1, (select max(G3E_DCROWNO)+1 from G3E_LEGGEO_DEFDSP)); 
COMMIT;



insert into publicador_ddc_view values ((SELECT MAX(ID)+1 FROM PUBLICADOR_DDC_VIEW), (SELECT MAX(PUBLICADOR_DDC)+1 FROM PUBLICADOR_DDC_VIEW), 'VGC_GRNDCD_FID_T'); 
COMMIT;


/*------------------------------------------------------------------Base de Armario-------------------------------------------------------------*/
insert into g3e_featurecomponent (G3E_FCNO, G3E_FNO, G3E_CNO, G3E_REQUIRED, G3E_REPEATING, G3E_AUTOREPEAT, G3E_PINO, G3E_ORDINAL, G3E_INTERFACEARGUMENT, G3E_DERIVEDFROMCNO, G3E_INSERTORDINAL, G3E_DELETEORDINAL, G3E_REFRESH, G3E_ALTERNATEREQUIREDCNO, G3E_REPLACE, G3E_EDITDATE, G3E_BREAKACTION, G3E_COMPONENTELIMINATION, G3E_COMPONENTASSIGNMENT, G3E_COMPONENTADJUSTMENT, G3E_GEOPROXIMITYTOLERANCE, G3E_BREAKLINEARCNO, G3E_ALTERNATEGEOGRAPHIC, G3E_ALTERNATEGEOORDINAL, G3E_RINO, G3E_RIARGGROUPNO, G3E_INCLUDEINPLACEMENT, G3E_MERGEMAXDISTANCE, G3E_MERGECOMMONPRECOND, G3E_MERGEPRECOND, G3E_MERGEOCCURRENCES, G3E_MERGERINO, G3E_MERGERIARGGROUPNO, G3E_CCNO, G3E_GENERATE)
values (2900 + 40, 2900, 40, 0, 0, 0, 7, (SELECT MAX(G3E_ORDINAL)+1 FROM G3E_FEATURECOMPONENT), 
'0C20010000001000000001000000010000000C20010000001000000000000000040000000800000000000300000026004800390008000000000000000000080000000000000000000800000000000000000008000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000', null, (SELECT MAX(G3E_ORDINAL)+1 FROM G3E_FEATURECOMPONENT), (SELECT MAX(G3E_ORDINAL)+1 FROM G3E_FEATURECOMPONENT), 0, 3031, 1, SYSDATE, 1, 2, 1, 1, 1, null, 0, 0, null, null, 1, null, null, null, 1, null, null, null, 0);
COMMIT;


CREATE OR REPLACE VIEW VGC_PBASE_FID_T
(G3E_ID, G3E_FNO, G3E_CNO, G3E_FID, G3E_CID, G3E_GEOMETRY, G3E_ALIGNMENT,
 JOB_ID, JOB_STATE, FEATURE_STATE, SWITCH_CENTRE_CLLI, OWNERSHIP)
AS 
SELECT 
B.G3E_ID,
B.G3E_FNO,
B.G3E_CNO,
B.G3E_FID,
B.G3E_CID,
B.G3E_GEOMETRY,
B.G3E_ALIGNMENT,
D.JOB_ID,
D.JOB_STATE,
D.FEATURE_STATE,
D.SWITCH_CENTRE_CLLI,
D.OWNERSHIP
FROM
GC_FID_T B,
GC_NETELEM D
WHERE
D.G3E_FNO=2900
AND B.G3E_FID=D.G3E_FID;


INSERT INTO G3E_COMPONENTVIEWDEFINITION ( G3E_VNO, G3E_VIEW, G3E_FNO, G3E_CNO, G3E_LENO, G3E_FIELDS,
G3E_EDITDATE, G3E_ATTRAFFECTSMEMBERSHIP )
VALUES (2900 + 30 + 4, 'VGC_PBASE_FID_T', 2900, 40, NULL, NULL, SYSDATE, 0); 
COMMIT;

INSERT INTO G3E_COMPONENTVIEWCOMPOSITION ( G3E_CVCNO, G3E_VNO, G3E_CNO, G3E_FNO )
VALUES ((2900 + 30 + 4) * 100 + 30 + 4, 2900 + 30 + 4, 40, 2900);
COMMIT;


INSERT INTO G3E_COLUMN_METADATA ( TABLENAME, COLUMNNAME, COLUMNTYPE, COLUMNSUBTYPE, ATTRIBUTES, GEOMETRYFORMAT,
 SDOORDCNT, SDOESEQ, COORDSYSTEMINDEX ) 
VALUES ('VGC_PBASE_FID_T', 'G3E_GEOMETRY', 32, 10, NULL, NULL, 2, NULL, NULL);
COMMIT; 


INSERT INTO MODIFIEDTABLES ( MODIFIEDTABLEID, TABLENAME) 
VALUES ((select max(MODIFIEDTABLEID)+1 from MODIFIEDTABLES),'VGC_PBASE_FID_T');
COMMIT;




BEGIN
create_component_view.create_geom_component_view ('VGC_PBASE_FID_T','GC_FID_T');
END;
/




INSERT INTO G3E_LEGENDENTRY (G3E_LENO, G3E_LEGENDENTRY, G3E_USERNAME, G3E_VNO, G3E_SRNO, G3E_LRNO,
G3E_EDITDATE, G3E_ROLE ) VALUES ( 
((2900 + 30 + 4)*100 + 30), 'VGC_PBASE_FID_T', 'Texto FID da Base de Armário', 2900 + 30 + 4, 2905507, 3275007, SYSDATE, 'EVERYONE');
COMMIT;

UPDATE G3E_COMPONENTVIEWDEFINITION SET G3E_LENO=((2900 + 30 + 4)*100 + 30) WHERE G3E_VNO=2900 + 30 + 4;
COMMIT;


INSERT INTO G3E_LEGGEO_DEFAULT ( G3E_LENO, G3E_DISPLAYMODE, G3E_DISPLAYSCALEMIN, G3E_DISPLAYSCALEMAX
, G3E_DISPLAYORDINAL, G3E_USEDISPLAYSCALE, G3E_LOCATABLE ) VALUES ( 
((2900 + 30 + 4)*100 + 30), 1, 1, 10000, 5, 1, 1); 
COMMIT;

UPDATE G3E_LEGGEO_DEFDSP SET G3E_ORDINAL = G3E_ORDINAL + 3 WHERE G3E_ORDINAL>(SELECT D.G3E_ORDINAL FROM G3E_LEGGEO_DEFDSP D WHERE D.G3E_LEGENDITEM = 'Padbase');

INSERT INTO G3E_LEGGEO_DEFDSP ( G3E_LEGENDITEM, G3E_USERNAME, G3E_LEVEL, G3E_ORDINAL
, G3E_LEAFINDICATOR, G3E_DCROWNO ) VALUES ( 
'VGC_PBASE_FID_T', 'Texto FID da Base de Armário', 3, (SELECT G3E_ORDINAL+1 FROM G3E_LEGGEO_DEFDSP WHERE G3E_LEGENDITEM = 'Padbase'), 1, (select max(G3E_DCROWNO)+1 from G3E_LEGGEO_DEFDSP)); 
COMMIT;



insert into publicador_ddc_view values ((SELECT MAX(ID)+1 FROM PUBLICADOR_DDC_VIEW), (SELECT MAX(PUBLICADOR_DDC)+1 FROM PUBLICADOR_DDC_VIEW), 'VGC_PBASE_FID_T'); 
COMMIT;


/*------------------------------------------------------------------Cabo Metálico-------------------------------------------------------------*/
insert into g3e_featurecomponent (G3E_FCNO, G3E_FNO, G3E_CNO, G3E_REQUIRED, G3E_REPEATING, G3E_AUTOREPEAT, G3E_PINO, G3E_ORDINAL, G3E_INTERFACEARGUMENT, G3E_DERIVEDFROMCNO, G3E_INSERTORDINAL, G3E_DELETEORDINAL, G3E_REFRESH, G3E_ALTERNATEREQUIREDCNO, G3E_REPLACE, G3E_EDITDATE, G3E_BREAKACTION, G3E_COMPONENTELIMINATION, G3E_COMPONENTASSIGNMENT, G3E_COMPONENTADJUSTMENT, G3E_GEOPROXIMITYTOLERANCE, G3E_BREAKLINEARCNO, G3E_ALTERNATEGEOGRAPHIC, G3E_ALTERNATEGEOORDINAL, G3E_RINO, G3E_RIARGGROUPNO, G3E_INCLUDEINPLACEMENT, G3E_MERGEMAXDISTANCE, G3E_MERGECOMMONPRECOND, G3E_MERGEPRECOND, G3E_MERGEOCCURRENCES, G3E_MERGERINO, G3E_MERGERIARGGROUPNO, G3E_CCNO, G3E_GENERATE)
values (7000 + 40, 7000, 40, 0, 0, 0, 7, (SELECT MAX(G3E_ORDINAL)+1 FROM G3E_FEATURECOMPONENT), 
'0C20010000001000000001000000010000000C20010000001000000000000000040000000800000000000300000026004800390008000000000000000000080000000000000000000800000000000000000008000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000', null, (SELECT MAX(G3E_ORDINAL)+1 FROM G3E_FEATURECOMPONENT), (SELECT MAX(G3E_ORDINAL)+1 FROM G3E_FEATURECOMPONENT), 0, 3031, 1, SYSDATE, 1, 2, 1, 1, 1, null, 0, 0, null, null, 1, null, null, null, 1, null, null, null, 0);
COMMIT;


CREATE OR REPLACE VIEW VGC_CBL_FID_T
(G3E_ID, G3E_FNO, G3E_CNO, G3E_FID, G3E_CID, G3E_GEOMETRY, G3E_ALIGNMENT,
 JOB_ID, JOB_STATE, FEATURE_STATE, SWITCH_CENTRE_CLLI, OWNERSHIP)
AS 
SELECT 
B.G3E_ID,
B.G3E_FNO,
B.G3E_CNO,
B.G3E_FID,
B.G3E_CID,
B.G3E_GEOMETRY,
B.G3E_ALIGNMENT,
D.JOB_ID,
D.JOB_STATE,
D.FEATURE_STATE,
D.SWITCH_CENTRE_CLLI,
D.OWNERSHIP
FROM
GC_FID_T B,
GC_NETELEM D
WHERE
D.G3E_FNO=7000
AND B.G3E_FID=D.G3E_FID;


INSERT INTO G3E_COMPONENTVIEWDEFINITION ( G3E_VNO, G3E_VIEW, G3E_FNO, G3E_CNO, G3E_LENO, G3E_FIELDS,
G3E_EDITDATE, G3E_ATTRAFFECTSMEMBERSHIP )
VALUES (7000 + 30 + 6, 'VGC_CBL_FID_T', 7000, 40, NULL, NULL, SYSDATE, 0); 
COMMIT;

INSERT INTO G3E_COMPONENTVIEWCOMPOSITION ( G3E_CVCNO, G3E_VNO, G3E_CNO, G3E_FNO )
VALUES ((7000 + 30 + 6) * 100 + 30 + 6, 7000 + 30 + 6, 40, 7000);
COMMIT;


INSERT INTO G3E_COLUMN_METADATA ( TABLENAME, COLUMNNAME, COLUMNTYPE, COLUMNSUBTYPE, ATTRIBUTES, GEOMETRYFORMAT,
 SDOORDCNT, SDOESEQ, COORDSYSTEMINDEX ) 
VALUES ('VGC_CBL_FID_T', 'G3E_GEOMETRY', 32, 10, NULL, NULL, 2, NULL, NULL);
COMMIT; 


INSERT INTO MODIFIEDTABLES ( MODIFIEDTABLEID, TABLENAME) 
VALUES ((select max(MODIFIEDTABLEID)+1 from MODIFIEDTABLES),'VGC_CBL_FID_T');
COMMIT;



BEGIN
create_component_view.create_geom_component_view ('VGC_CBL_FID_T','GC_FID_T');
END;
/



INSERT INTO G3E_LEGENDENTRY (G3E_LENO, G3E_LEGENDENTRY, G3E_USERNAME, G3E_VNO, G3E_SRNO, G3E_LRNO,
G3E_EDITDATE, G3E_ROLE ) VALUES ( 
((7000 + 30 + 6)*100 + 30), 'VGC_CBL_FID_T', 'Texto FID do Cabo Metálico', 7000 + 30 + 6, 2905507, 3275007, SYSDATE, 'EVERYONE');
COMMIT;

UPDATE G3E_COMPONENTVIEWDEFINITION SET G3E_LENO=((7000 + 30 + 6)*100 + 30) WHERE G3E_VNO=7000 + 30 + 6;
COMMIT;


INSERT INTO G3E_LEGGEO_DEFAULT ( G3E_LENO, G3E_DISPLAYMODE, G3E_DISPLAYSCALEMIN, G3E_DISPLAYSCALEMAX
, G3E_DISPLAYORDINAL, G3E_USEDISPLAYSCALE, G3E_LOCATABLE ) VALUES ( 
((7000 + 30 + 6)*100 + 30), 1, 1, 10000, 5, 1, 1); 
COMMIT;

UPDATE G3E_LEGGEO_DEFDSP SET G3E_ORDINAL = G3E_ORDINAL + 3 WHERE G3E_ORDINAL>(SELECT D.G3E_ORDINAL FROM G3E_LEGGEO_DEFDSP D WHERE D.G3E_LEGENDITEM = 'Cable' AND G3E_LEVEL=1);

INSERT INTO G3E_LEGGEO_DEFDSP ( G3E_LEGENDITEM, G3E_USERNAME, G3E_LEVEL, G3E_ORDINAL
, G3E_LEAFINDICATOR, G3E_DCROWNO ) VALUES ( 
'VGC_CBL_FID_T', 'Texto FID do Cabo Metálico', 3, (SELECT G3E_ORDINAL+1 FROM G3E_LEGGEO_DEFDSP WHERE G3E_LEGENDITEM = 'Cable' AND G3E_LEVEL=2), 1, (select max(G3E_DCROWNO)+1 from G3E_LEGGEO_DEFDSP)); 
COMMIT;


insert into publicador_ddc_view values ((SELECT MAX(ID)+1 FROM PUBLICADOR_DDC_VIEW), (SELECT MAX(PUBLICADOR_DDC)+1 FROM PUBLICADOR_DDC_VIEW), 'VGC_CBL_FID_T'); 
COMMIT;


/*------------------------------------------------------------------Cabo Óptico-------------------------------------------------------------*/
insert into g3e_featurecomponent (G3E_FCNO, G3E_FNO, G3E_CNO, G3E_REQUIRED, G3E_REPEATING, G3E_AUTOREPEAT, G3E_PINO, G3E_ORDINAL, G3E_INTERFACEARGUMENT, G3E_DERIVEDFROMCNO, G3E_INSERTORDINAL, G3E_DELETEORDINAL, G3E_REFRESH, G3E_ALTERNATEREQUIREDCNO, G3E_REPLACE, G3E_EDITDATE, G3E_BREAKACTION, G3E_COMPONENTELIMINATION, G3E_COMPONENTASSIGNMENT, G3E_COMPONENTADJUSTMENT, G3E_GEOPROXIMITYTOLERANCE, G3E_BREAKLINEARCNO, G3E_ALTERNATEGEOGRAPHIC, G3E_ALTERNATEGEOORDINAL, G3E_RINO, G3E_RIARGGROUPNO, G3E_INCLUDEINPLACEMENT, G3E_MERGEMAXDISTANCE, G3E_MERGECOMMONPRECOND, G3E_MERGEPRECOND, G3E_MERGEOCCURRENCES, G3E_MERGERINO, G3E_MERGERIARGGROUPNO, G3E_CCNO, G3E_GENERATE)
values (7200 + 40, 7200, 40, 0, 0, 0, 7, (SELECT MAX(G3E_ORDINAL)+1 FROM G3E_FEATURECOMPONENT), 
'0C20010000001000000001000000010000000C20010000001000000000000000040000000800000000000300000026004800390008000000000000000000080000000000000000000800000000000000000008000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000', null, (SELECT MAX(G3E_ORDINAL)+1 FROM G3E_FEATURECOMPONENT), (SELECT MAX(G3E_ORDINAL)+1 FROM G3E_FEATURECOMPONENT), 0, 3031, 1, SYSDATE, 1, 2, 1, 1, 1, null, 0, 0, null, null, 1, null, null, null, 1, null, null, null, 0);
COMMIT;


CREATE OR REPLACE VIEW VGC_FCBL_FID_T
(G3E_ID, G3E_FNO, G3E_CNO, G3E_FID, G3E_CID, G3E_GEOMETRY, G3E_ALIGNMENT,
 JOB_ID, JOB_STATE, FEATURE_STATE, SWITCH_CENTRE_CLLI, OWNERSHIP)
AS 
SELECT 
B.G3E_ID,
B.G3E_FNO,
B.G3E_CNO,
B.G3E_FID,
B.G3E_CID,
B.G3E_GEOMETRY,
B.G3E_ALIGNMENT,
D.JOB_ID,
D.JOB_STATE,
D.FEATURE_STATE,
D.SWITCH_CENTRE_CLLI,
D.OWNERSHIP
FROM
GC_FID_T B,
GC_NETELEM D
WHERE
D.G3E_FNO=7200
AND B.G3E_FID=D.G3E_FID;


INSERT INTO G3E_COMPONENTVIEWDEFINITION ( G3E_VNO, G3E_VIEW, G3E_FNO, G3E_CNO, G3E_LENO, G3E_FIELDS,
G3E_EDITDATE, G3E_ATTRAFFECTSMEMBERSHIP )
VALUES (7200 + 30 + 2, 'VGC_FCBL_FID_T', 7200, 40, NULL, NULL, SYSDATE, 0); 
COMMIT;

INSERT INTO G3E_COMPONENTVIEWCOMPOSITION ( G3E_CVCNO, G3E_VNO, G3E_CNO, G3E_FNO )
VALUES ((7200 + 30 + 2) * 100 + 30 + 2, 7200 + 30 + 2, 40, 7200);
COMMIT;


INSERT INTO G3E_COLUMN_METADATA ( TABLENAME, COLUMNNAME, COLUMNTYPE, COLUMNSUBTYPE, ATTRIBUTES, GEOMETRYFORMAT,
 SDOORDCNT, SDOESEQ, COORDSYSTEMINDEX ) 
VALUES ('VGC_FCBL_FID_T', 'G3E_GEOMETRY', 32, 10, NULL, NULL, 2, NULL, NULL);
COMMIT; 


INSERT INTO MODIFIEDTABLES ( MODIFIEDTABLEID, TABLENAME) 
VALUES ((select max(MODIFIEDTABLEID)+1 from MODIFIEDTABLES),'VGC_FCBL_FID_T');
COMMIT;




BEGIN
create_component_view.create_geom_component_view ('VGC_FCBL_FID_T','GC_FID_T');
END;
/



INSERT INTO G3E_LEGENDENTRY (G3E_LENO, G3E_LEGENDENTRY, G3E_USERNAME, G3E_VNO, G3E_SRNO, G3E_LRNO,
G3E_EDITDATE, G3E_ROLE ) VALUES ( 
((7200 + 30 + 2)*100 + 30), 'VGC_FCBL_FID_T', 'Texto FID do Cabo Óptico', 7200 + 30 + 2, 2905507, 3275007, SYSDATE, 'EVERYONE');
COMMIT;

UPDATE G3E_COMPONENTVIEWDEFINITION SET G3E_LENO=((7200 + 30 + 2)*100 + 30) WHERE G3E_VNO=7200 + 30 + 2;
COMMIT;


INSERT INTO G3E_LEGGEO_DEFAULT ( G3E_LENO, G3E_DISPLAYMODE, G3E_DISPLAYSCALEMIN, G3E_DISPLAYSCALEMAX
, G3E_DISPLAYORDINAL, G3E_USEDISPLAYSCALE, G3E_LOCATABLE ) VALUES ( 
((7200 + 30 + 2)*100 + 30), 1, 1, 10000, 5, 1, 1); 
COMMIT;

UPDATE G3E_LEGGEO_DEFDSP SET G3E_ORDINAL = G3E_ORDINAL + 3 WHERE G3E_ORDINAL>(SELECT D.G3E_ORDINAL FROM G3E_LEGGEO_DEFDSP D WHERE D.G3E_LEGENDITEM = 'Fiber Cable');

INSERT INTO G3E_LEGGEO_DEFDSP ( G3E_LEGENDITEM, G3E_USERNAME, G3E_LEVEL, G3E_ORDINAL
, G3E_LEAFINDICATOR, G3E_DCROWNO ) VALUES ( 
'VGC_FCBL_FID_T', 'Texto FID do Cabo Óptico', 3, (SELECT G3E_ORDINAL+1 FROM G3E_LEGGEO_DEFDSP WHERE G3E_LEGENDITEM = 'Fiber Cable'), 1, (select max(G3E_DCROWNO)+1 from G3E_LEGGEO_DEFDSP)); 
COMMIT;


insert into publicador_ddc_view values ((SELECT MAX(ID)+1 FROM PUBLICADOR_DDC_VIEW), (SELECT MAX(PUBLICADOR_DDC)+1 FROM PUBLICADOR_DDC_VIEW), 'VGC_FCBL_FID_T'); 
COMMIT;



/*----------------------------------------------------------------Caixa Subterrânea-------------------------------------------------------------*/
insert into g3e_featurecomponent (G3E_FCNO, G3E_FNO, G3E_CNO, G3E_REQUIRED, G3E_REPEATING, G3E_AUTOREPEAT, G3E_PINO, G3E_ORDINAL, G3E_INTERFACEARGUMENT, G3E_DERIVEDFROMCNO, G3E_INSERTORDINAL, G3E_DELETEORDINAL, G3E_REFRESH, G3E_ALTERNATEREQUIREDCNO, G3E_REPLACE, G3E_EDITDATE, G3E_BREAKACTION, G3E_COMPONENTELIMINATION, G3E_COMPONENTASSIGNMENT, G3E_COMPONENTADJUSTMENT, G3E_GEOPROXIMITYTOLERANCE, G3E_BREAKLINEARCNO, G3E_ALTERNATEGEOGRAPHIC, G3E_ALTERNATEGEOORDINAL, G3E_RINO, G3E_RIARGGROUPNO, G3E_INCLUDEINPLACEMENT, G3E_MERGEMAXDISTANCE, G3E_MERGECOMMONPRECOND, G3E_MERGEPRECOND, G3E_MERGEOCCURRENCES, G3E_MERGERINO, G3E_MERGERIARGGROUPNO, G3E_CCNO, G3E_GENERATE)
values (2700 + 40 + 2, 2700, 40, 0, 0, 0, 7, (SELECT MAX(G3E_ORDINAL)+1 FROM G3E_FEATURECOMPONENT), 
'0C20010000001000000001000000010000000C20010000001000000000000000040000000800000000000300000026004800390008000000000000000000080000000000000000000800000000000000000008000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000', null, (SELECT MAX(G3E_ORDINAL)+1 FROM G3E_FEATURECOMPONENT), (SELECT MAX(G3E_ORDINAL)+1 FROM G3E_FEATURECOMPONENT), 0, 3031, 1, SYSDATE, 1, 2, 1, 1, 1, null, 0, 0, null, null, 1, null, null, null, 1, null, null, null, 0);
COMMIT;


CREATE OR REPLACE VIEW VGC_MANHL_FID_T
(G3E_ID, G3E_FNO, G3E_CNO, G3E_FID, G3E_CID, G3E_GEOMETRY, G3E_ALIGNMENT,
 JOB_ID, JOB_STATE, FEATURE_STATE, SWITCH_CENTRE_CLLI, OWNERSHIP)
AS 
SELECT 
B.G3E_ID,
B.G3E_FNO,
B.G3E_CNO,
B.G3E_FID,
B.G3E_CID,
B.G3E_GEOMETRY,
B.G3E_ALIGNMENT,
D.JOB_ID,
D.JOB_STATE,
D.FEATURE_STATE,
D.SWITCH_CENTRE_CLLI,
D.OWNERSHIP
FROM
GC_FID_T B,
GC_NETELEM D
WHERE
D.G3E_FNO=2700
AND B.G3E_FID=D.G3E_FID;


INSERT INTO G3E_COMPONENTVIEWDEFINITION ( G3E_VNO, G3E_VIEW, G3E_FNO, G3E_CNO, G3E_LENO, G3E_FIELDS,
G3E_EDITDATE, G3E_ATTRAFFECTSMEMBERSHIP )
VALUES (2700 + 40 + 2, 'VGC_MANHL_FID_T', 2700, 40, NULL, NULL, SYSDATE, 0); 
COMMIT;

INSERT INTO G3E_COMPONENTVIEWCOMPOSITION ( G3E_CVCNO, G3E_VNO, G3E_CNO, G3E_FNO )
VALUES ((2700 + 40 + 2) * 100 + 40, 2700 + 40 + 2, 40, 2700);
COMMIT;


INSERT INTO G3E_COLUMN_METADATA ( TABLENAME, COLUMNNAME, COLUMNTYPE, COLUMNSUBTYPE, ATTRIBUTES, GEOMETRYFORMAT,
 SDOORDCNT, SDOESEQ, COORDSYSTEMINDEX ) 
VALUES ('VGC_MANHL_FID_T', 'G3E_GEOMETRY', 32, 10, NULL, NULL, 2, NULL, NULL);
COMMIT; 


INSERT INTO MODIFIEDTABLES ( MODIFIEDTABLEID, TABLENAME) 
VALUES ((select max(MODIFIEDTABLEID)+1 from MODIFIEDTABLES),'VGC_MANHL_FID_T');
COMMIT;


BEGIN
create_component_view.create_geom_component_view ('VGC_MANHL_FID_T','GC_FID_T');
END;
/



INSERT INTO G3E_LEGENDENTRY (G3E_LENO, G3E_LEGENDENTRY, G3E_USERNAME, G3E_VNO, G3E_SRNO, G3E_LRNO,
G3E_EDITDATE, G3E_ROLE ) VALUES ( 
((2700 + 40 + 2)*100 + 40), 'VGC_MANHL_FID_T', 'Texto FID da Caixa Subterrânea', 2700 + 40 + 2, 2905507, 3275007, SYSDATE, 'EVERYONE');
COMMIT;

UPDATE G3E_COMPONENTVIEWDEFINITION SET G3E_LENO=((2700 + 40 + 2)*100 + 40) WHERE G3E_VNO=2700 + 40 + 2;
COMMIT;


INSERT INTO G3E_LEGGEO_DEFAULT ( G3E_LENO, G3E_DISPLAYMODE, G3E_DISPLAYSCALEMIN, G3E_DISPLAYSCALEMAX
, G3E_DISPLAYORDINAL, G3E_USEDISPLAYSCALE, G3E_LOCATABLE ) VALUES ( 
((2700 + 40 + 2)*100 + 40), 1, 1, 10000, 5, 1, 1); 
COMMIT;

UPDATE G3E_LEGGEO_DEFDSP SET G3E_ORDINAL = G3E_ORDINAL + 3 WHERE G3E_ORDINAL>(SELECT D.G3E_ORDINAL FROM G3E_LEGGEO_DEFDSP D WHERE D.G3E_LEGENDITEM = 'Manhole');

INSERT INTO G3E_LEGGEO_DEFDSP ( G3E_LEGENDITEM, G3E_USERNAME, G3E_LEVEL, G3E_ORDINAL
, G3E_LEAFINDICATOR, G3E_DCROWNO ) VALUES ( 
'VGC_MANHL_FID_T', 'Texto FID da Caixa Subterrânea', 3, (SELECT G3E_ORDINAL+1 FROM G3E_LEGGEO_DEFDSP WHERE G3E_LEGENDITEM = 'Manhole'), 1, (select max(G3E_DCROWNO)+1 from G3E_LEGGEO_DEFDSP)); 
COMMIT;



insert into publicador_ddc_view values ((SELECT MAX(ID)+1 FROM PUBLICADOR_DDC_VIEW), (SELECT MAX(PUBLICADOR_DDC)+1 FROM PUBLICADOR_DDC_VIEW), 'VGC_MANHL_FID_T'); 
COMMIT;


/*----------------------------------------------------------------Cordoalha-------------------------------------------------------------*/
insert into g3e_featurecomponent (G3E_FCNO, G3E_FNO, G3E_CNO, G3E_REQUIRED, G3E_REPEATING, G3E_AUTOREPEAT, G3E_PINO, G3E_ORDINAL, G3E_INTERFACEARGUMENT, G3E_DERIVEDFROMCNO, G3E_INSERTORDINAL, G3E_DELETEORDINAL, G3E_REFRESH, G3E_ALTERNATEREQUIREDCNO, G3E_REPLACE, G3E_EDITDATE, G3E_BREAKACTION, G3E_COMPONENTELIMINATION, G3E_COMPONENTASSIGNMENT, G3E_COMPONENTADJUSTMENT, G3E_GEOPROXIMITYTOLERANCE, G3E_BREAKLINEARCNO, G3E_ALTERNATEGEOGRAPHIC, G3E_ALTERNATEGEOORDINAL, G3E_RINO, G3E_RIARGGROUPNO, G3E_INCLUDEINPLACEMENT, G3E_MERGEMAXDISTANCE, G3E_MERGECOMMONPRECOND, G3E_MERGEPRECOND, G3E_MERGEOCCURRENCES, G3E_MERGERINO, G3E_MERGERIARGGROUPNO, G3E_CCNO, G3E_GENERATE)
values (2600 + 40, 2600, 40, 0, 0, 0, 7, (SELECT MAX(G3E_ORDINAL)+1 FROM G3E_FEATURECOMPONENT), 
'0C20010000001000000001000000010000000C20010000001000000000000000040000000800000000000300000026004800390008000000000000000000080000000000000000000800000000000000000008000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000', null, (SELECT MAX(G3E_ORDINAL)+1 FROM G3E_FEATURECOMPONENT), (SELECT MAX(G3E_ORDINAL)+1 FROM G3E_FEATURECOMPONENT), 0, 3031, 1, SYSDATE, 1, 2, 1, 1, 1, null, 0, 0, null, null, 1, null, null, null, 1, null, null, null, 0);
COMMIT;


CREATE OR REPLACE VIEW VGC_STRAND_FID_T
(G3E_ID, G3E_FNO, G3E_CNO, G3E_FID, G3E_CID, G3E_GEOMETRY, G3E_ALIGNMENT,
 JOB_ID, JOB_STATE, FEATURE_STATE, SWITCH_CENTRE_CLLI, OWNERSHIP)
AS 
SELECT 
B.G3E_ID,
B.G3E_FNO,
B.G3E_CNO,
B.G3E_FID,
B.G3E_CID,
B.G3E_GEOMETRY,
B.G3E_ALIGNMENT,
D.JOB_ID,
D.JOB_STATE,
D.FEATURE_STATE,
D.SWITCH_CENTRE_CLLI,
D.OWNERSHIP
FROM
GC_FID_T B,
GC_NETELEM D
WHERE
D.G3E_FNO=2600
AND B.G3E_FID=D.G3E_FID;


INSERT INTO G3E_COMPONENTVIEWDEFINITION ( G3E_VNO, G3E_VIEW, G3E_FNO, G3E_CNO, G3E_LENO, G3E_FIELDS,
G3E_EDITDATE, G3E_ATTRAFFECTSMEMBERSHIP )
VALUES (2600 + 40, 'VGC_STRAND_FID_T', 2600, 40, NULL, NULL, SYSDATE, 0); 
COMMIT;

INSERT INTO G3E_COMPONENTVIEWCOMPOSITION ( G3E_CVCNO, G3E_VNO, G3E_CNO, G3E_FNO )
VALUES ((2600 + 40) * 100 + 40, 2600 + 40, 40, 2600);
COMMIT;


INSERT INTO G3E_COLUMN_METADATA ( TABLENAME, COLUMNNAME, COLUMNTYPE, COLUMNSUBTYPE, ATTRIBUTES, GEOMETRYFORMAT,
 SDOORDCNT, SDOESEQ, COORDSYSTEMINDEX ) 
VALUES ('VGC_STRAND_FID_T', 'G3E_GEOMETRY', 32, 10, NULL, NULL, 2, NULL, NULL);
COMMIT; 


INSERT INTO MODIFIEDTABLES ( MODIFIEDTABLEID, TABLENAME) 
VALUES ((select max(MODIFIEDTABLEID)+1 from MODIFIEDTABLES),'VGC_STRAND_FID_T');
COMMIT;




BEGIN
create_component_view.create_geom_component_view ('VGC_STRAND_FID_T','GC_FID_T');
END;
/



INSERT INTO G3E_LEGENDENTRY (G3E_LENO, G3E_LEGENDENTRY, G3E_USERNAME, G3E_VNO, G3E_SRNO, G3E_LRNO,
G3E_EDITDATE, G3E_ROLE ) VALUES ( 
((2600 + 40)*100 + 40), 'VGC_STRAND_FID_T', 'Texto FID da Cordoalha', 2600 + 40, 2905507, 3275007, SYSDATE, 'EVERYONE');
COMMIT;

UPDATE G3E_COMPONENTVIEWDEFINITION SET G3E_LENO=((2600 + 40)*100 + 40) WHERE G3E_VNO=2600 + 40;
COMMIT;


INSERT INTO G3E_LEGGEO_DEFAULT ( G3E_LENO, G3E_DISPLAYMODE, G3E_DISPLAYSCALEMIN, G3E_DISPLAYSCALEMAX
, G3E_DISPLAYORDINAL, G3E_USEDISPLAYSCALE, G3E_LOCATABLE ) VALUES ( 
((2600 + 40)*100 + 40), 1, 1, 10000, 5, 1, 1); 
COMMIT;

UPDATE G3E_LEGGEO_DEFDSP SET G3E_ORDINAL = G3E_ORDINAL + 3 WHERE G3E_ORDINAL>(SELECT D.G3E_ORDINAL FROM G3E_LEGGEO_DEFDSP D WHERE D.G3E_LEGENDITEM = 'Strand');

INSERT INTO G3E_LEGGEO_DEFDSP ( G3E_LEGENDITEM, G3E_USERNAME, G3E_LEVEL, G3E_ORDINAL
, G3E_LEAFINDICATOR, G3E_DCROWNO ) VALUES ( 
'VGC_STRAND_FID_T', 'Texto FID da Cordoalha', 3, (SELECT G3E_ORDINAL+1 FROM G3E_LEGGEO_DEFDSP WHERE G3E_LEGENDITEM = 'Strand'), 1, (select max(G3E_DCROWNO)+1 from G3E_LEGGEO_DEFDSP)); 
COMMIT;



insert into publicador_ddc_view values ((SELECT MAX(ID)+1 FROM PUBLICADOR_DDC_VIEW), (SELECT MAX(PUBLICADOR_DDC)+1 FROM PUBLICADOR_DDC_VIEW), 'VGC_STRAND_FID_T'); 
COMMIT;



insert into g3e_featurecomponent (G3E_FCNO, G3E_FNO, G3E_CNO, G3E_REQUIRED, G3E_REPEATING, G3E_AUTOREPEAT, G3E_PINO, G3E_ORDINAL, G3E_INTERFACEARGUMENT, G3E_DERIVEDFROMCNO, G3E_INSERTORDINAL, G3E_DELETEORDINAL, G3E_REFRESH, G3E_ALTERNATEREQUIREDCNO, G3E_REPLACE, G3E_EDITDATE, G3E_BREAKACTION, G3E_COMPONENTELIMINATION, G3E_COMPONENTASSIGNMENT, G3E_COMPONENTADJUSTMENT, G3E_GEOPROXIMITYTOLERANCE, G3E_BREAKLINEARCNO, G3E_ALTERNATEGEOGRAPHIC, G3E_ALTERNATEGEOORDINAL, G3E_RINO, G3E_RIARGGROUPNO, G3E_INCLUDEINPLACEMENT, G3E_MERGEMAXDISTANCE, G3E_MERGECOMMONPRECOND, G3E_MERGEPRECOND, G3E_MERGEOCCURRENCES, G3E_MERGERINO, G3E_MERGERIARGGROUPNO, G3E_CCNO, G3E_GENERATE)
values (10800 + 40, 10800, 40, 0, 0, 0, 7, (SELECT MAX(G3E_ORDINAL)+1 FROM G3E_FEATURECOMPONENT), 
'0C20010000001000000001000000010000000C20010000001000000000000000040000000800000000000300000026004800390008000000000000000000080000000000000000000800000000000000000008000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000', null, (SELECT MAX(G3E_ORDINAL)+1 FROM G3E_FEATURECOMPONENT), (SELECT MAX(G3E_ORDINAL)+1 FROM G3E_FEATURECOMPONENT), 0, 3031, 1, SYSDATE, 1, 2, 1, 1, 1, null, 0, 0, null, null, 1, null, null, null, 1, null, null, null, 0);
COMMIT;


/*----------------------------------------------------------------Emenda-------------------------------------------------------------*/
CREATE OR REPLACE VIEW VGC_SPLICE_FID_T
(G3E_ID, G3E_FNO, G3E_CNO, G3E_FID, G3E_CID, G3E_GEOMETRY, G3E_ALIGNMENT,
 JOB_ID, JOB_STATE, FEATURE_STATE, SWITCH_CENTRE_CLLI, OWNERSHIP)
AS 
SELECT 
B.G3E_ID,
B.G3E_FNO,
B.G3E_CNO,
B.G3E_FID,
B.G3E_CID,
B.G3E_GEOMETRY,
B.G3E_ALIGNMENT,
D.JOB_ID,
D.JOB_STATE,
D.FEATURE_STATE,
D.SWITCH_CENTRE_CLLI,
D.OWNERSHIP
FROM
GC_FID_T B,
GC_NETELEM D
WHERE
D.G3E_FNO=10800
AND B.G3E_FID=D.G3E_FID;


INSERT INTO G3E_COMPONENTVIEWDEFINITION ( G3E_VNO, G3E_VIEW, G3E_FNO, G3E_CNO, G3E_LENO, G3E_FIELDS,
G3E_EDITDATE, G3E_ATTRAFFECTSMEMBERSHIP )
VALUES (10800 + 40, 'VGC_SPLICE_FID_T', 10800, 40, NULL, NULL, SYSDATE, 0); 
COMMIT;

INSERT INTO G3E_COMPONENTVIEWCOMPOSITION ( G3E_CVCNO, G3E_VNO, G3E_CNO, G3E_FNO )
VALUES ((10800 + 40) * 100 + 40, 10800 + 40, 40, 10800);
COMMIT;


INSERT INTO G3E_COLUMN_METADATA ( TABLENAME, COLUMNNAME, COLUMNTYPE, COLUMNSUBTYPE, ATTRIBUTES, GEOMETRYFORMAT,
 SDOORDCNT, SDOESEQ, COORDSYSTEMINDEX ) 
VALUES ('VGC_SPLICE_FID_T', 'G3E_GEOMETRY', 32, 10, NULL, NULL, 2, NULL, NULL);
COMMIT; 


INSERT INTO MODIFIEDTABLES ( MODIFIEDTABLEID, TABLENAME) 
VALUES ((select max(MODIFIEDTABLEID)+1 from MODIFIEDTABLES),'VGC_SPLICE_FID_T');
COMMIT;



BEGIN
create_component_view.create_geom_component_view ('VGC_SPLICE_FID_T','GC_FID_T');
END;
/




INSERT INTO G3E_LEGENDENTRY (G3E_LENO, G3E_LEGENDENTRY, G3E_USERNAME, G3E_VNO, G3E_SRNO, G3E_LRNO,
G3E_EDITDATE, G3E_ROLE ) VALUES ( 
((10800 + 40)*100 + 40), 'VGC_SPLICE_FID_T', 'Texto FID da Emenda', 10800 + 40, 2905507, 3275007, SYSDATE, 'EVERYONE');
COMMIT;

UPDATE G3E_COMPONENTVIEWDEFINITION SET G3E_LENO=((10800 + 40)*100 + 40) WHERE G3E_VNO=10800 + 40;
COMMIT;


INSERT INTO G3E_LEGGEO_DEFAULT ( G3E_LENO, G3E_DISPLAYMODE, G3E_DISPLAYSCALEMIN, G3E_DISPLAYSCALEMAX
, G3E_DISPLAYORDINAL, G3E_USEDISPLAYSCALE, G3E_LOCATABLE ) VALUES ( 
((10800 + 40)*100 + 40), 1, 1, 10000, 5, 1, 1); 
COMMIT;

UPDATE G3E_LEGGEO_DEFDSP SET G3E_ORDINAL = G3E_ORDINAL + 3 WHERE G3E_ORDINAL>(SELECT D.G3E_ORDINAL FROM G3E_LEGGEO_DEFDSP D WHERE D.G3E_LEGENDITEM = 'Emenda');

INSERT INTO G3E_LEGGEO_DEFDSP ( G3E_LEGENDITEM, G3E_USERNAME, G3E_LEVEL, G3E_ORDINAL
, G3E_LEAFINDICATOR, G3E_DCROWNO ) VALUES ( 
'VGC_SPLICE_FID_T', 'Texto FID da Emenda', 3, (SELECT G3E_ORDINAL+1 FROM G3E_LEGGEO_DEFDSP WHERE G3E_LEGENDITEM = 'Emenda'), 1, (select max(G3E_DCROWNO)+1 from G3E_LEGGEO_DEFDSP)); 
COMMIT;



insert into publicador_ddc_view values ((SELECT MAX(ID)+1 FROM PUBLICADOR_DDC_VIEW), (SELECT MAX(PUBLICADOR_DDC)+1 FROM PUBLICADOR_DDC_VIEW), 'VGC_SPLICE_FID_T'); 
COMMIT;


/*----------------------------------------------------------------Emenda Óptica-------------------------------------------------------------*/
insert into g3e_featurecomponent (G3E_FCNO, G3E_FNO, G3E_CNO, G3E_REQUIRED, G3E_REPEATING, G3E_AUTOREPEAT, G3E_PINO, G3E_ORDINAL, G3E_INTERFACEARGUMENT, G3E_DERIVEDFROMCNO, G3E_INSERTORDINAL, G3E_DELETEORDINAL, G3E_REFRESH, G3E_ALTERNATEREQUIREDCNO, G3E_REPLACE, G3E_EDITDATE, G3E_BREAKACTION, G3E_COMPONENTELIMINATION, G3E_COMPONENTASSIGNMENT, G3E_COMPONENTADJUSTMENT, G3E_GEOPROXIMITYTOLERANCE, G3E_BREAKLINEARCNO, G3E_ALTERNATEGEOGRAPHIC, G3E_ALTERNATEGEOORDINAL, G3E_RINO, G3E_RIARGGROUPNO, G3E_INCLUDEINPLACEMENT, G3E_MERGEMAXDISTANCE, G3E_MERGECOMMONPRECOND, G3E_MERGEPRECOND, G3E_MERGEOCCURRENCES, G3E_MERGERINO, G3E_MERGERIARGGROUPNO, G3E_CCNO, G3E_GENERATE)
values (11800 + 40, 11800, 40, 0, 0, 0, 7, (SELECT MAX(G3E_ORDINAL)+1 FROM G3E_FEATURECOMPONENT), 
'0C20010000001000000001000000010000000C20010000001000000000000000040000000800000000000300000026004800390008000000000000000000080000000000000000000800000000000000000008000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000', null, (SELECT MAX(G3E_ORDINAL)+1 FROM G3E_FEATURECOMPONENT), (SELECT MAX(G3E_ORDINAL)+1 FROM G3E_FEATURECOMPONENT), 0, 3031, 1, SYSDATE, 1, 2, 1, 1, 1, null, 0, 0, null, null, 1, null, null, null, 1, null, null, null, 0);
COMMIT;


CREATE OR REPLACE VIEW VGC_FSPLICE_FID_T
(G3E_ID, G3E_FNO, G3E_CNO, G3E_FID, G3E_CID, G3E_GEOMETRY, G3E_ALIGNMENT,
 JOB_ID, JOB_STATE, FEATURE_STATE, SWITCH_CENTRE_CLLI, OWNERSHIP)
AS 
SELECT 
B.G3E_ID,
B.G3E_FNO,
B.G3E_CNO,
B.G3E_FID,
B.G3E_CID,
B.G3E_GEOMETRY,
B.G3E_ALIGNMENT,
D.JOB_ID,
D.JOB_STATE,
D.FEATURE_STATE,
D.SWITCH_CENTRE_CLLI,
D.OWNERSHIP
FROM
GC_FID_T B,
GC_NETELEM D
WHERE
D.G3E_FNO=11800
AND B.G3E_FID=D.G3E_FID;


INSERT INTO G3E_COMPONENTVIEWDEFINITION ( G3E_VNO, G3E_VIEW, G3E_FNO, G3E_CNO, G3E_LENO, G3E_FIELDS,
G3E_EDITDATE, G3E_ATTRAFFECTSMEMBERSHIP )
VALUES (11800 + 40, 'VGC_FSPLICE_FID_T', 11800, 40, NULL, NULL, SYSDATE, 0); 
COMMIT;

INSERT INTO G3E_COMPONENTVIEWCOMPOSITION ( G3E_CVCNO, G3E_VNO, G3E_CNO, G3E_FNO )
VALUES ((11800 + 40) * 100 + 40, 11800 + 40, 40, 11800);
COMMIT;


INSERT INTO G3E_COLUMN_METADATA ( TABLENAME, COLUMNNAME, COLUMNTYPE, COLUMNSUBTYPE, ATTRIBUTES, GEOMETRYFORMAT,
 SDOORDCNT, SDOESEQ, COORDSYSTEMINDEX ) 
VALUES ('VGC_FSPLICE_FID_T', 'G3E_GEOMETRY', 32, 10, NULL, NULL, 2, NULL, NULL);
COMMIT; 


INSERT INTO MODIFIEDTABLES ( MODIFIEDTABLEID, TABLENAME) 
VALUES ((select max(MODIFIEDTABLEID)+1 from MODIFIEDTABLES),'VGC_FSPLICE_FID_T');
COMMIT;



BEGIN
create_component_view.create_geom_component_view ('VGC_FSPLICE_FID_T','GC_FID_T');
END;
/




INSERT INTO G3E_LEGENDENTRY (G3E_LENO, G3E_LEGENDENTRY, G3E_USERNAME, G3E_VNO, G3E_SRNO, G3E_LRNO,
G3E_EDITDATE, G3E_ROLE ) VALUES ( 
((11800 + 40)*100 + 40), 'VGC_FSPLICE_FID_T', 'Texto FID da Emenda Óptica', 11800 + 40, 2905507, 3275007, SYSDATE, 'EVERYONE');
COMMIT;

UPDATE G3E_COMPONENTVIEWDEFINITION SET G3E_LENO=((11800 + 40)*100 + 40) WHERE G3E_VNO=11800 + 40;
COMMIT;


INSERT INTO G3E_LEGGEO_DEFAULT ( G3E_LENO, G3E_DISPLAYMODE, G3E_DISPLAYSCALEMIN, G3E_DISPLAYSCALEMAX
, G3E_DISPLAYORDINAL, G3E_USEDISPLAYSCALE, G3E_LOCATABLE ) VALUES ( 
((11800 + 40)*100 + 40), 1, 1, 10000, 5, 1, 1); 
COMMIT;

UPDATE G3E_LEGGEO_DEFDSP SET G3E_ORDINAL = G3E_ORDINAL + 3 WHERE G3E_ORDINAL>(SELECT D.G3E_ORDINAL FROM G3E_LEGGEO_DEFDSP D WHERE D.G3E_LEGENDITEM = 'Fiber Splice');

INSERT INTO G3E_LEGGEO_DEFDSP ( G3E_LEGENDITEM, G3E_USERNAME, G3E_LEVEL, G3E_ORDINAL
, G3E_LEAFINDICATOR, G3E_DCROWNO ) VALUES ( 
'VGC_FSPLICE_FID_T', 'Texto FID da Emenda Óptica', 3, (SELECT G3E_ORDINAL+1 FROM G3E_LEGGEO_DEFDSP WHERE G3E_LEGENDITEM = 'Fiber Splice'), 1, (select max(G3E_DCROWNO)+1 from G3E_LEGGEO_DEFDSP)); 
COMMIT;


insert into publicador_ddc_view values ((SELECT MAX(ID)+1 FROM PUBLICADOR_DDC_VIEW), (SELECT MAX(PUBLICADOR_DDC)+1 FROM PUBLICADOR_DDC_VIEW), 'VGC_FSPLICE_FID_T'); 
COMMIT;


/*------------------------------------------------------Equipamento de Terminação Óptica------------------------------------------------------*/
insert into g3e_featurecomponent (G3E_FCNO, G3E_FNO, G3E_CNO, G3E_REQUIRED, G3E_REPEATING, G3E_AUTOREPEAT, G3E_PINO, G3E_ORDINAL, G3E_INTERFACEARGUMENT, G3E_DERIVEDFROMCNO, G3E_INSERTORDINAL, G3E_DELETEORDINAL, G3E_REFRESH, G3E_ALTERNATEREQUIREDCNO, G3E_REPLACE, G3E_EDITDATE, G3E_BREAKACTION, G3E_COMPONENTELIMINATION, G3E_COMPONENTASSIGNMENT, G3E_COMPONENTADJUSTMENT, G3E_GEOPROXIMITYTOLERANCE, G3E_BREAKLINEARCNO, G3E_ALTERNATEGEOGRAPHIC, G3E_ALTERNATEGEOORDINAL, G3E_RINO, G3E_RIARGGROUPNO, G3E_INCLUDEINPLACEMENT, G3E_MERGEMAXDISTANCE, G3E_MERGECOMMONPRECOND, G3E_MERGEPRECOND, G3E_MERGEOCCURRENCES, G3E_MERGERINO, G3E_MERGERIARGGROUPNO, G3E_CCNO, G3E_GENERATE)
values (11900 + 40, 11900, 40, 0, 0, 0, 7, (SELECT MAX(G3E_ORDINAL)+1 FROM G3E_FEATURECOMPONENT), 
'0C20010000001000000001000000010000000C20010000001000000000000000040000000800000000000300000026004800390008000000000000000000080000000000000000000800000000000000000008000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000', null, (SELECT MAX(G3E_ORDINAL)+1 FROM G3E_FEATURECOMPONENT), (SELECT MAX(G3E_ORDINAL)+1 FROM G3E_FEATURECOMPONENT), 0, 3031, 1, SYSDATE, 1, 2, 1, 1, 1, null, 0, 0, null, null, 1, null, null, null, 1, null, null, null, 0);
COMMIT;


CREATE OR REPLACE VIEW VGC_FTERM_FID_T
(G3E_ID, G3E_FNO, G3E_CNO, G3E_FID, G3E_CID, G3E_GEOMETRY, G3E_ALIGNMENT,
 JOB_ID, JOB_STATE, FEATURE_STATE, SWITCH_CENTRE_CLLI, OWNERSHIP)
AS 
SELECT 
B.G3E_ID,
B.G3E_FNO,
B.G3E_CNO,
B.G3E_FID,
B.G3E_CID,
B.G3E_GEOMETRY,
B.G3E_ALIGNMENT,
D.JOB_ID,
D.JOB_STATE,
D.FEATURE_STATE,
D.SWITCH_CENTRE_CLLI,
D.OWNERSHIP
FROM
GC_FID_T B,
GC_NETELEM D
WHERE
D.G3E_FNO=11900
AND B.G3E_FID=D.G3E_FID;


INSERT INTO G3E_COMPONENTVIEWDEFINITION ( G3E_VNO, G3E_VIEW, G3E_FNO, G3E_CNO, G3E_LENO, G3E_FIELDS,
G3E_EDITDATE, G3E_ATTRAFFECTSMEMBERSHIP )
VALUES (11900 + 40, 'VGC_FTERM_FID_T', 11900, 40, NULL, NULL, SYSDATE, 0); 
COMMIT;

INSERT INTO G3E_COMPONENTVIEWCOMPOSITION ( G3E_CVCNO, G3E_VNO, G3E_CNO, G3E_FNO )
VALUES ((11900 + 40) * 100 + 40, 11900 + 40, 40, 11900);
COMMIT;


INSERT INTO G3E_COLUMN_METADATA ( TABLENAME, COLUMNNAME, COLUMNTYPE, COLUMNSUBTYPE, ATTRIBUTES, GEOMETRYFORMAT,
 SDOORDCNT, SDOESEQ, COORDSYSTEMINDEX ) 
VALUES ('VGC_FTERM_FID_T', 'G3E_GEOMETRY', 32, 10, NULL, NULL, 2, NULL, NULL);
COMMIT; 


INSERT INTO MODIFIEDTABLES ( MODIFIEDTABLEID, TABLENAME) 
VALUES ((select max(MODIFIEDTABLEID)+1 from MODIFIEDTABLES),'VGC_FTERM_FID_T');
COMMIT;



BEGIN
create_component_view.create_geom_component_view ('VGC_FTERM_FID_T','GC_FID_T');
END;
/




INSERT INTO G3E_LEGENDENTRY (G3E_LENO, G3E_LEGENDENTRY, G3E_USERNAME, G3E_VNO, G3E_SRNO, G3E_LRNO,
G3E_EDITDATE, G3E_ROLE ) VALUES ( 
((11900 + 40)*100 + 40), 'VGC_FTERM_FID_T', 'Texto FID do Equipamento de Terminação Óptica', 11900 + 40, 2905507, 3275007, SYSDATE, 'EVERYONE');
COMMIT;

UPDATE G3E_COMPONENTVIEWDEFINITION SET G3E_LENO=((11900 + 40)*100 + 40) WHERE G3E_VNO=11900 + 40;
COMMIT;


INSERT INTO G3E_LEGGEO_DEFAULT ( G3E_LENO, G3E_DISPLAYMODE, G3E_DISPLAYSCALEMIN, G3E_DISPLAYSCALEMAX
, G3E_DISPLAYORDINAL, G3E_USEDISPLAYSCALE, G3E_LOCATABLE ) VALUES ( 
((11900 + 40)*100 + 40), 1, 1, 10000, 5, 1, 1); 
COMMIT;

UPDATE G3E_LEGGEO_DEFDSP SET G3E_ORDINAL = G3E_ORDINAL + 3 WHERE G3E_ORDINAL>(SELECT D.G3E_ORDINAL FROM G3E_LEGGEO_DEFDSP D WHERE D.G3E_LEGENDITEM = 'Equipamento de Terminação Óptica');

INSERT INTO G3E_LEGGEO_DEFDSP ( G3E_LEGENDITEM, G3E_USERNAME, G3E_LEVEL, G3E_ORDINAL
, G3E_LEAFINDICATOR, G3E_DCROWNO ) VALUES ( 
'VGC_FTERM_FID_T', 'Texto FID do Equipamento de Terminação Óptica', 3, (SELECT G3E_ORDINAL+1 FROM G3E_LEGGEO_DEFDSP WHERE G3E_LEGENDITEM = 'Equipamento de Terminação Óptica'), 1, (select max(G3E_DCROWNO)+1 from G3E_LEGGEO_DEFDSP)); 
COMMIT;


insert into publicador_ddc_view values ((SELECT MAX(ID)+1 FROM PUBLICADOR_DDC_VIEW), (SELECT MAX(PUBLICADOR_DDC)+1 FROM PUBLICADOR_DDC_VIEW), 'VGC_FTERM_FID_T'); 
COMMIT;


/*-------------------------------------------------------------Estação------------------------------------------------------------*/
insert into g3e_featurecomponent (G3E_FCNO, G3E_FNO, G3E_CNO, G3E_REQUIRED, G3E_REPEATING, G3E_AUTOREPEAT, G3E_PINO, G3E_ORDINAL, G3E_INTERFACEARGUMENT, G3E_DERIVEDFROMCNO, G3E_INSERTORDINAL, G3E_DELETEORDINAL, G3E_REFRESH, G3E_ALTERNATEREQUIREDCNO, G3E_REPLACE, G3E_EDITDATE, G3E_BREAKACTION, G3E_COMPONENTELIMINATION, G3E_COMPONENTASSIGNMENT, G3E_COMPONENTADJUSTMENT, G3E_GEOPROXIMITYTOLERANCE, G3E_BREAKLINEARCNO, G3E_ALTERNATEGEOGRAPHIC, G3E_ALTERNATEGEOORDINAL, G3E_RINO, G3E_RIARGGROUPNO, G3E_INCLUDEINPLACEMENT, G3E_MERGEMAXDISTANCE, G3E_MERGECOMMONPRECOND, G3E_MERGEPRECOND, G3E_MERGEOCCURRENCES, G3E_MERGERINO, G3E_MERGERIARGGROUPNO, G3E_CCNO, G3E_GENERATE)
values (14100 + 40, 14100, 40, 0, 0, 0, 7, (SELECT MAX(G3E_ORDINAL)+1 FROM G3E_FEATURECOMPONENT), 
'0C20010000001000000001000000010000000C20010000001000000000000000040000000800000000000300000026004800390008000000000000000000080000000000000000000800000000000000000008000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000', null, (SELECT MAX(G3E_ORDINAL)+1 FROM G3E_FEATURECOMPONENT), (SELECT MAX(G3E_ORDINAL)+1 FROM G3E_FEATURECOMPONENT), 0, 3031, 1, SYSDATE, 1, 2, 1, 1, 1, null, 0, 0, null, null, 1, null, null, null, 1, null, null, null, 0);
COMMIT;


CREATE OR REPLACE VIEW VGC_BLDG_FID_T
(G3E_ID, G3E_FNO, G3E_CNO, G3E_FID, G3E_CID, G3E_GEOMETRY, G3E_ALIGNMENT,
 JOB_ID, JOB_STATE, FEATURE_STATE, SWITCH_CENTRE_CLLI, OWNERSHIP)
AS 
SELECT 
B.G3E_ID,
B.G3E_FNO,
B.G3E_CNO,
B.G3E_FID,
B.G3E_CID,
B.G3E_GEOMETRY,
B.G3E_ALIGNMENT,
D.JOB_ID,
D.JOB_STATE,
D.FEATURE_STATE,
D.SWITCH_CENTRE_CLLI,
D.OWNERSHIP
FROM
GC_FID_T B,
GC_NETELEM D
WHERE
D.G3E_FNO=14100
AND B.G3E_FID=D.G3E_FID;


INSERT INTO G3E_COMPONENTVIEWDEFINITION ( G3E_VNO, G3E_VIEW, G3E_FNO, G3E_CNO, G3E_LENO, G3E_FIELDS,
G3E_EDITDATE, G3E_ATTRAFFECTSMEMBERSHIP )
VALUES (14100 + 40, 'VGC_BLDG_FID_T', 14100, 40, NULL, NULL, SYSDATE, 0); 
COMMIT;

INSERT INTO G3E_COMPONENTVIEWCOMPOSITION ( G3E_CVCNO, G3E_VNO, G3E_CNO, G3E_FNO )
VALUES ((14100 + 40) * 100 + 40, 14100 + 40, 40, 14100);
COMMIT;


INSERT INTO G3E_COLUMN_METADATA ( TABLENAME, COLUMNNAME, COLUMNTYPE, COLUMNSUBTYPE, ATTRIBUTES, GEOMETRYFORMAT,
 SDOORDCNT, SDOESEQ, COORDSYSTEMINDEX ) 
VALUES ('VGC_BLDG_FID_T', 'G3E_GEOMETRY', 32, 10, NULL, NULL, 2, NULL, NULL);
COMMIT; 


INSERT INTO MODIFIEDTABLES ( MODIFIEDTABLEID, TABLENAME) 
VALUES ((select max(MODIFIEDTABLEID)+1 from MODIFIEDTABLES),'VGC_BLDG_FID_T');
COMMIT;



BEGIN
create_component_view.create_geom_component_view ('VGC_BLDG_FID_T','GC_FID_T');
END;
/


INSERT INTO G3E_LEGENDENTRY (G3E_LENO, G3E_LEGENDENTRY, G3E_USERNAME, G3E_VNO, G3E_SRNO, G3E_LRNO,
G3E_EDITDATE, G3E_ROLE ) VALUES ( 
((14100 + 40)*100 + 40), 'VGC_BLDG_FID_T', 'Texto FID da Estação', 14100 + 40, 2905507, 3275007, SYSDATE, 'EVERYONE');
COMMIT;

UPDATE G3E_COMPONENTVIEWDEFINITION SET G3E_LENO=((14100 + 40)*100 + 40) WHERE G3E_VNO=14100 + 40;
COMMIT;


INSERT INTO G3E_LEGGEO_DEFAULT ( G3E_LENO, G3E_DISPLAYMODE, G3E_DISPLAYSCALEMIN, G3E_DISPLAYSCALEMAX
, G3E_DISPLAYORDINAL, G3E_USEDISPLAYSCALE, G3E_LOCATABLE ) VALUES ( 
((14100 + 40)*100 + 40), 1, 1, 10000, 5, 1, 1); 
COMMIT;

UPDATE G3E_LEGGEO_DEFDSP SET G3E_ORDINAL = G3E_ORDINAL + 3 WHERE G3E_ORDINAL>(SELECT D.G3E_ORDINAL FROM G3E_LEGGEO_DEFDSP D WHERE D.G3E_LEGENDITEM = 'Building');

INSERT INTO G3E_LEGGEO_DEFDSP ( G3E_LEGENDITEM, G3E_USERNAME, G3E_LEVEL, G3E_ORDINAL
, G3E_LEAFINDICATOR, G3E_DCROWNO ) VALUES ( 
'VGC_BLDG_FID_T', 'Texto FID da Estação', 3, (SELECT G3E_ORDINAL+1 FROM G3E_LEGGEO_DEFDSP WHERE G3E_LEGENDITEM = 'Building'), 1, (select max(G3E_DCROWNO)+1 from G3E_LEGGEO_DEFDSP)); 
COMMIT;



insert into publicador_ddc_view values ((SELECT MAX(ID)+1 FROM PUBLICADOR_DDC_VIEW), (SELECT MAX(PUBLICADOR_DDC)+1 FROM PUBLICADOR_DDC_VIEW), 'VGC_BLDG_FID_T'); 
COMMIT;


/*-------------------------------------------------------------Estai------------------------------------------------------------*/
insert into g3e_featurecomponent (G3E_FCNO, G3E_FNO, G3E_CNO, G3E_REQUIRED, G3E_REPEATING, G3E_AUTOREPEAT, G3E_PINO, G3E_ORDINAL, G3E_INTERFACEARGUMENT, G3E_DERIVEDFROMCNO, G3E_INSERTORDINAL, G3E_DELETEORDINAL, G3E_REFRESH, G3E_ALTERNATEREQUIREDCNO, G3E_REPLACE, G3E_EDITDATE, G3E_BREAKACTION, G3E_COMPONENTELIMINATION, G3E_COMPONENTASSIGNMENT, G3E_COMPONENTADJUSTMENT, G3E_GEOPROXIMITYTOLERANCE, G3E_BREAKLINEARCNO, G3E_ALTERNATEGEOGRAPHIC, G3E_ALTERNATEGEOORDINAL, G3E_RINO, G3E_RIARGGROUPNO, G3E_INCLUDEINPLACEMENT, G3E_MERGEMAXDISTANCE, G3E_MERGECOMMONPRECOND, G3E_MERGEPRECOND, G3E_MERGEOCCURRENCES, G3E_MERGERINO, G3E_MERGERIARGGROUPNO, G3E_CCNO, G3E_GENERATE)
values (2500 + 40, 2500, 40, 0, 0, 0, 7, (SELECT MAX(G3E_ORDINAL)+1 FROM G3E_FEATURECOMPONENT), 
'0C20010000001000000001000000010000000C20010000001000000000000000040000000800000000000300000026004800390008000000000000000000080000000000000000000800000000000000000008000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000', null, (SELECT MAX(G3E_ORDINAL)+1 FROM G3E_FEATURECOMPONENT), (SELECT MAX(G3E_ORDINAL)+1 FROM G3E_FEATURECOMPONENT), 0, 3031, 1, SYSDATE, 1, 2, 1, 1, 1, null, 0, 0, null, null, 1, null, null, null, 1, null, null, null, 0);
COMMIT;


CREATE OR REPLACE VIEW VGC_GUY_FID_T
(G3E_ID, G3E_FNO, G3E_CNO, G3E_FID, G3E_CID, G3E_GEOMETRY, G3E_ALIGNMENT,
 JOB_ID, JOB_STATE, FEATURE_STATE, SWITCH_CENTRE_CLLI, OWNERSHIP)
AS 
SELECT 
B.G3E_ID,
B.G3E_FNO,
B.G3E_CNO,
B.G3E_FID,
B.G3E_CID,
B.G3E_GEOMETRY,
B.G3E_ALIGNMENT,
D.JOB_ID,
D.JOB_STATE,
D.FEATURE_STATE,
D.SWITCH_CENTRE_CLLI,
D.OWNERSHIP
FROM
GC_FID_T B,
GC_NETELEM D
WHERE
D.G3E_FNO=2500
AND B.G3E_FID=D.G3E_FID;


INSERT INTO G3E_COMPONENTVIEWDEFINITION ( G3E_VNO, G3E_VIEW, G3E_FNO, G3E_CNO, G3E_LENO, G3E_FIELDS,
G3E_EDITDATE, G3E_ATTRAFFECTSMEMBERSHIP )
VALUES (2500 + 40, 'VGC_GUY_FID_T', 2500, 40, NULL, NULL, SYSDATE, 0); 
COMMIT;

INSERT INTO G3E_COMPONENTVIEWCOMPOSITION ( G3E_CVCNO, G3E_VNO, G3E_CNO, G3E_FNO )
VALUES ((2500 + 40) * 100 + 40, 2500 + 40, 40, 2500);
COMMIT;


INSERT INTO G3E_COLUMN_METADATA ( TABLENAME, COLUMNNAME, COLUMNTYPE, COLUMNSUBTYPE, ATTRIBUTES, GEOMETRYFORMAT,
 SDOORDCNT, SDOESEQ, COORDSYSTEMINDEX ) 
VALUES ('VGC_GUY_FID_T', 'G3E_GEOMETRY', 32, 10, NULL, NULL, 2, NULL, NULL);
COMMIT; 


INSERT INTO MODIFIEDTABLES ( MODIFIEDTABLEID, TABLENAME) 
VALUES ((select max(MODIFIEDTABLEID)+1 from MODIFIEDTABLES),'VGC_GUY_FID_T');
COMMIT;


BEGIN
create_component_view.create_geom_component_view ('VGC_GUY_FID_T','GC_FID_T');
END;
/


INSERT INTO G3E_LEGENDENTRY (G3E_LENO, G3E_LEGENDENTRY, G3E_USERNAME, G3E_VNO, G3E_SRNO, G3E_LRNO,
G3E_EDITDATE, G3E_ROLE ) VALUES ( 
((2500 + 40)*100 + 40), 'VGC_GUY_FID_T', 'Texto FID da Estai', 2500 + 40, 2905507, 3275007, SYSDATE, 'EVERYONE');
COMMIT;

UPDATE G3E_COMPONENTVIEWDEFINITION SET G3E_LENO=((2500 + 40)*100 + 40) WHERE G3E_VNO=2500 + 40;
COMMIT;


INSERT INTO G3E_LEGGEO_DEFAULT ( G3E_LENO, G3E_DISPLAYMODE, G3E_DISPLAYSCALEMIN, G3E_DISPLAYSCALEMAX
, G3E_DISPLAYORDINAL, G3E_USEDISPLAYSCALE, G3E_LOCATABLE ) VALUES ( 
((2500 + 40)*100 + 40), 1, 1, 10000, 5, 1, 1); 
COMMIT;

UPDATE G3E_LEGGEO_DEFDSP SET G3E_ORDINAL = G3E_ORDINAL + 3 WHERE G3E_ORDINAL>(SELECT D.G3E_ORDINAL FROM G3E_LEGGEO_DEFDSP D WHERE D.G3E_LEGENDITEM = 'Guy');

INSERT INTO G3E_LEGGEO_DEFDSP ( G3E_LEGENDITEM, G3E_USERNAME, G3E_LEVEL, G3E_ORDINAL
, G3E_LEAFINDICATOR, G3E_DCROWNO ) VALUES ( 
'VGC_GUY_FID_T', 'Texto FID da Estai', 3, (SELECT G3E_ORDINAL+1 FROM G3E_LEGGEO_DEFDSP WHERE G3E_LEGENDITEM = 'Guy'), 1, (select max(G3E_DCROWNO)+1 from G3E_LEGGEO_DEFDSP)); 
COMMIT;


insert into publicador_ddc_view values ((SELECT MAX(ID)+1 FROM PUBLICADOR_DDC_VIEW), (SELECT MAX(PUBLICADOR_DDC)+1 FROM PUBLICADOR_DDC_VIEW), 'VGC_GUY_FID_T'); 
COMMIT;


/*-------------------------------------------------------------Fio------------------------------------------------------------*/
insert into g3e_featurecomponent (G3E_FCNO, G3E_FNO, G3E_CNO, G3E_REQUIRED, G3E_REPEATING, G3E_AUTOREPEAT, G3E_PINO, G3E_ORDINAL, G3E_INTERFACEARGUMENT, G3E_DERIVEDFROMCNO, G3E_INSERTORDINAL, G3E_DELETEORDINAL, G3E_REFRESH, G3E_ALTERNATEREQUIREDCNO, G3E_REPLACE, G3E_EDITDATE, G3E_BREAKACTION, G3E_COMPONENTELIMINATION, G3E_COMPONENTASSIGNMENT, G3E_COMPONENTADJUSTMENT, G3E_GEOPROXIMITYTOLERANCE, G3E_BREAKLINEARCNO, G3E_ALTERNATEGEOGRAPHIC, G3E_ALTERNATEGEOORDINAL, G3E_RINO, G3E_RIARGGROUPNO, G3E_INCLUDEINPLACEMENT, G3E_MERGEMAXDISTANCE, G3E_MERGECOMMONPRECOND, G3E_MERGEPRECOND, G3E_MERGEOCCURRENCES, G3E_MERGERINO, G3E_MERGERIARGGROUPNO, G3E_CCNO, G3E_GENERATE)
values (7100 + 90, 7100, 40, 0, 0, 0, 7, (SELECT MAX(G3E_ORDINAL)+1 FROM G3E_FEATURECOMPONENT), 
'0C20010000001000000001000000010000000C20010000001000000000000000040000000800000000000300000026004800390008000000000000000000080000000000000000000800000000000000000008000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000', null, (SELECT MAX(G3E_ORDINAL)+1 FROM G3E_FEATURECOMPONENT), (SELECT MAX(G3E_ORDINAL)+1 FROM G3E_FEATURECOMPONENT), 0, 3031, 1, SYSDATE, 1, 2, 1, 1, 1, null, 0, 0, null, null, 1, null, null, null, 1, null, null, null, 0);
COMMIT;


CREATE OR REPLACE VIEW VGC_WIR_FID_T
(G3E_ID, G3E_FNO, G3E_CNO, G3E_FID, G3E_CID, G3E_GEOMETRY, G3E_ALIGNMENT,
 JOB_ID, JOB_STATE, FEATURE_STATE, SWITCH_CENTRE_CLLI, OWNERSHIP)
AS 
SELECT 
B.G3E_ID,
B.G3E_FNO,
B.G3E_CNO,
B.G3E_FID,
B.G3E_CID,
B.G3E_GEOMETRY,
B.G3E_ALIGNMENT,
D.JOB_ID,
D.JOB_STATE,
D.FEATURE_STATE,
D.SWITCH_CENTRE_CLLI,
D.OWNERSHIP
FROM
GC_FID_T B,
GC_NETELEM D
WHERE
D.G3E_FNO=7100
AND B.G3E_FID=D.G3E_FID;


INSERT INTO G3E_COMPONENTVIEWDEFINITION ( G3E_VNO, G3E_VIEW, G3E_FNO, G3E_CNO, G3E_LENO, G3E_FIELDS,
G3E_EDITDATE, G3E_ATTRAFFECTSMEMBERSHIP )
VALUES (7100 + 90, 'VGC_WIR_FID_T', 7100, 40, NULL, NULL, SYSDATE, 0); 
COMMIT;

INSERT INTO G3E_COMPONENTVIEWCOMPOSITION ( G3E_CVCNO, G3E_VNO, G3E_CNO, G3E_FNO )
VALUES ((7100 + 90) * 100 + 90, 7100 + 90, 40, 7100);
COMMIT;


INSERT INTO G3E_COLUMN_METADATA ( TABLENAME, COLUMNNAME, COLUMNTYPE, COLUMNSUBTYPE, ATTRIBUTES, GEOMETRYFORMAT,
 SDOORDCNT, SDOESEQ, COORDSYSTEMINDEX ) 
VALUES ('VGC_WIR_FID_T', 'G3E_GEOMETRY', 32, 10, NULL, NULL, 2, NULL, NULL);
COMMIT; 


INSERT INTO MODIFIEDTABLES ( MODIFIEDTABLEID, TABLENAME) 
VALUES ((select max(MODIFIEDTABLEID)+1 from MODIFIEDTABLES),'VGC_WIR_FID_T');
COMMIT;



BEGIN
create_component_view.create_geom_component_view ('VGC_WIR_FID_T','GC_FID_T');
END;
/




INSERT INTO G3E_LEGENDENTRY (G3E_LENO, G3E_LEGENDENTRY, G3E_USERNAME, G3E_VNO, G3E_SRNO, G3E_LRNO,
G3E_EDITDATE, G3E_ROLE ) VALUES ( 
((7100 + 90)*100 + 90), 'VGC_WIR_FID_T', 'Texto FID do Fio', 7100 + 90, 2905507, 3275007, SYSDATE, 'EVERYONE');
COMMIT;

UPDATE G3E_COMPONENTVIEWDEFINITION SET G3E_LENO=((7100 + 90)*100 + 90) WHERE G3E_VNO=7100 + 90;
COMMIT;


INSERT INTO G3E_LEGGEO_DEFAULT ( G3E_LENO, G3E_DISPLAYMODE, G3E_DISPLAYSCALEMIN, G3E_DISPLAYSCALEMAX
, G3E_DISPLAYORDINAL, G3E_USEDISPLAYSCALE, G3E_LOCATABLE ) VALUES ( 
((7100 + 90)*100 + 90), 1, 1, 10000, 5, 1, 1); 
COMMIT;

UPDATE G3E_LEGGEO_DEFDSP SET G3E_ORDINAL = G3E_ORDINAL + 3 WHERE G3E_ORDINAL>(SELECT D.G3E_ORDINAL FROM G3E_LEGGEO_DEFDSP D WHERE D.G3E_LEGENDITEM = 'Wire');

INSERT INTO G3E_LEGGEO_DEFDSP ( G3E_LEGENDITEM, G3E_USERNAME, G3E_LEVEL, G3E_ORDINAL
, G3E_LEAFINDICATOR, G3E_DCROWNO ) VALUES ( 
'VGC_WIR_FID_T', 'Texto FID do Fio', 3, (SELECT G3E_ORDINAL+1 FROM G3E_LEGGEO_DEFDSP WHERE G3E_LEGENDITEM = 'Wire'), 1, (select max(G3E_DCROWNO)+1 from G3E_LEGGEO_DEFDSP)); 
COMMIT;


insert into publicador_ddc_view values ((SELECT MAX(ID)+1 FROM PUBLICADOR_DDC_VIEW), (SELECT MAX(PUBLICADOR_DDC)+1 FROM PUBLICADOR_DDC_VIEW), 'VGC_WIR_FID_T'); 
COMMIT;


/*-------------------------------------------------------------Linha de dutos------------------------------------------------------------*/
insert into g3e_featurecomponent (G3E_FCNO, G3E_FNO, G3E_CNO, G3E_REQUIRED, G3E_REPEATING, G3E_AUTOREPEAT, G3E_PINO, G3E_ORDINAL, G3E_INTERFACEARGUMENT, G3E_DERIVEDFROMCNO, G3E_INSERTORDINAL, G3E_DELETEORDINAL, G3E_REFRESH, G3E_ALTERNATEREQUIREDCNO, G3E_REPLACE, G3E_EDITDATE, G3E_BREAKACTION, G3E_COMPONENTELIMINATION, G3E_COMPONENTASSIGNMENT, G3E_COMPONENTADJUSTMENT, G3E_GEOPROXIMITYTOLERANCE, G3E_BREAKLINEARCNO, G3E_ALTERNATEGEOGRAPHIC, G3E_ALTERNATEGEOORDINAL, G3E_RINO, G3E_RIARGGROUPNO, G3E_INCLUDEINPLACEMENT, G3E_MERGEMAXDISTANCE, G3E_MERGECOMMONPRECOND, G3E_MERGEPRECOND, G3E_MERGEOCCURRENCES, G3E_MERGERINO, G3E_MERGERIARGGROUPNO, G3E_CCNO, G3E_GENERATE)
values (2200 + 40, 2200, 40, 0, 0, 0, 7, (SELECT MAX(G3E_ORDINAL)+1 FROM G3E_FEATURECOMPONENT), 
'0C20010000001000000001000000010000000C20010000001000000000000000040000000800000000000300000026004800390008000000000000000000080000000000000000000800000000000000000008000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000', null, (SELECT MAX(G3E_ORDINAL)+1 FROM G3E_FEATURECOMPONENT), (SELECT MAX(G3E_ORDINAL)+1 FROM G3E_FEATURECOMPONENT), 0, 3031, 1, SYSDATE, 1, 2, 1, 1, 1, null, 0, 0, null, null, 1, null, null, null, 1, null, null, null, 0);
COMMIT;


CREATE OR REPLACE VIEW VGC_COND_FID_T
(G3E_ID, G3E_FNO, G3E_CNO, G3E_FID, G3E_CID, G3E_GEOMETRY, G3E_ALIGNMENT,
 JOB_ID, JOB_STATE, FEATURE_STATE, SWITCH_CENTRE_CLLI, OWNERSHIP)
AS 
SELECT 
B.G3E_ID,
B.G3E_FNO,
B.G3E_CNO,
B.G3E_FID,
B.G3E_CID,
B.G3E_GEOMETRY,
B.G3E_ALIGNMENT,
D.JOB_ID,
D.JOB_STATE,
D.FEATURE_STATE,
D.SWITCH_CENTRE_CLLI,
D.OWNERSHIP
FROM
GC_FID_T B,
GC_NETELEM D
WHERE
D.G3E_FNO=2200
AND B.G3E_FID=D.G3E_FID;


INSERT INTO G3E_COMPONENTVIEWDEFINITION ( G3E_VNO, G3E_VIEW, G3E_FNO, G3E_CNO, G3E_LENO, G3E_FIELDS,
G3E_EDITDATE, G3E_ATTRAFFECTSMEMBERSHIP )
VALUES (2200 + 40, 'VGC_COND_FID_T', 2200, 40, NULL, NULL, SYSDATE, 0); 
COMMIT;

INSERT INTO G3E_COMPONENTVIEWCOMPOSITION ( G3E_CVCNO, G3E_VNO, G3E_CNO, G3E_FNO )
VALUES ((2200 + 40) * 100 + 40, 2200 + 40, 40, 2200);
COMMIT;


INSERT INTO G3E_COLUMN_METADATA ( TABLENAME, COLUMNNAME, COLUMNTYPE, COLUMNSUBTYPE, ATTRIBUTES, GEOMETRYFORMAT,
 SDOORDCNT, SDOESEQ, COORDSYSTEMINDEX ) 
VALUES ('VGC_COND_FID_T', 'G3E_GEOMETRY', 32, 10, NULL, NULL, 2, NULL, NULL);
COMMIT; 


INSERT INTO MODIFIEDTABLES ( MODIFIEDTABLEID, TABLENAME) 
VALUES ((select max(MODIFIEDTABLEID)+1 from MODIFIEDTABLES),'VGC_COND_FID_T');
COMMIT;



BEGIN
create_component_view.create_geom_component_view ('VGC_COND_FID_T','GC_FID_T');
END;
/




INSERT INTO G3E_LEGENDENTRY (G3E_LENO, G3E_LEGENDENTRY, G3E_USERNAME, G3E_VNO, G3E_SRNO, G3E_LRNO,
G3E_EDITDATE, G3E_ROLE ) VALUES ( 
((2200 + 40)*100 + 40), 'VGC_COND_FID_T', 'Texto FID da Linha de Dutos', 2200 + 40, 2905507, 3275007, SYSDATE, 'EVERYONE');
COMMIT;

UPDATE G3E_COMPONENTVIEWDEFINITION SET G3E_LENO=((2200 + 40)*100 + 40) WHERE G3E_VNO=2200 + 40;
COMMIT;


INSERT INTO G3E_LEGGEO_DEFAULT ( G3E_LENO, G3E_DISPLAYMODE, G3E_DISPLAYSCALEMIN, G3E_DISPLAYSCALEMAX
, G3E_DISPLAYORDINAL, G3E_USEDISPLAYSCALE, G3E_LOCATABLE ) VALUES ( 
((2200 + 40)*100 + 40), 1, 1, 10000, 5, 1, 1); 
COMMIT;

UPDATE G3E_LEGGEO_DEFDSP SET G3E_ORDINAL = G3E_ORDINAL + 3 WHERE G3E_ORDINAL>(SELECT D.G3E_ORDINAL FROM G3E_LEGGEO_DEFDSP D WHERE D.G3E_LEGENDITEM = 'Conduit');

INSERT INTO G3E_LEGGEO_DEFDSP ( G3E_LEGENDITEM, G3E_USERNAME, G3E_LEVEL, G3E_ORDINAL
, G3E_LEAFINDICATOR, G3E_DCROWNO ) VALUES ( 
'VGC_COND_FID_T', 'Texto FID da Linha de Dutos', 3, (SELECT G3E_ORDINAL+1 FROM G3E_LEGGEO_DEFDSP WHERE G3E_LEGENDITEM = 'Conduit'), 1, (select max(G3E_DCROWNO)+1 from G3E_LEGGEO_DEFDSP)); 
COMMIT;


insert into publicador_ddc_view values ((SELECT MAX(ID)+1 FROM PUBLICADOR_DDC_VIEW), (SELECT MAX(PUBLICADOR_DDC)+1 FROM PUBLICADOR_DDC_VIEW), 'VGC_COND_FID_T'); 
COMMIT;


/*-------------------------------------------------------------Símbolo Geral------------------------------------------------------------*/
insert into g3e_featurecomponent (G3E_FCNO, G3E_FNO, G3E_CNO, G3E_REQUIRED, G3E_REPEATING, G3E_AUTOREPEAT, G3E_PINO, G3E_ORDINAL, G3E_INTERFACEARGUMENT, G3E_DERIVEDFROMCNO, G3E_INSERTORDINAL, G3E_DELETEORDINAL, G3E_REFRESH, G3E_ALTERNATEREQUIREDCNO, G3E_REPLACE, G3E_EDITDATE, G3E_BREAKACTION, G3E_COMPONENTELIMINATION, G3E_COMPONENTASSIGNMENT, G3E_COMPONENTADJUSTMENT, G3E_GEOPROXIMITYTOLERANCE, G3E_BREAKLINEARCNO, G3E_ALTERNATEGEOGRAPHIC, G3E_ALTERNATEGEOORDINAL, G3E_RINO, G3E_RIARGGROUPNO, G3E_INCLUDEINPLACEMENT, G3E_MERGEMAXDISTANCE, G3E_MERGECOMMONPRECOND, G3E_MERGEPRECOND, G3E_MERGEOCCURRENCES, G3E_MERGERINO, G3E_MERGERIARGGROUPNO, G3E_CCNO, G3E_GENERATE)
values (200 + 40, 200, 40, 0, 0, 0, 7, (SELECT MAX(G3E_ORDINAL)+1 FROM G3E_FEATURECOMPONENT), 
'0C20010000001000000001000000010000000C20010000001000000000000000040000000800000000000300000026004800390008000000000000000000080000000000000000000800000000000000000008000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000', null, (SELECT MAX(G3E_ORDINAL)+1 FROM G3E_FEATURECOMPONENT), (SELECT MAX(G3E_ORDINAL)+1 FROM G3E_FEATURECOMPONENT), 0, 3031, 1, SYSDATE, 1, 2, 1, 1, 1, null, 0, 0, null, null, 1, null, null, null, 1, null, null, null, 0);
COMMIT;


CREATE OR REPLACE VIEW VGC_GENSYMTYP_FID_T
(G3E_ID, G3E_FNO, G3E_CNO, G3E_FID, G3E_CID, G3E_GEOMETRY, G3E_ALIGNMENT,
 JOB_ID, JOB_STATE, FEATURE_STATE, SWITCH_CENTRE_CLLI, OWNERSHIP)
AS 
SELECT 
B.G3E_ID,
B.G3E_FNO,
B.G3E_CNO,
B.G3E_FID,
B.G3E_CID,
B.G3E_GEOMETRY,
B.G3E_ALIGNMENT,
D.JOB_ID,
D.JOB_STATE,
D.FEATURE_STATE,
D.SWITCH_CENTRE_CLLI,
D.OWNERSHIP
FROM
GC_FID_T B,
GC_NETELEM D
WHERE
D.G3E_FNO=200
AND B.G3E_FID=D.G3E_FID;


INSERT INTO G3E_COMPONENTVIEWDEFINITION ( G3E_VNO, G3E_VIEW, G3E_FNO, G3E_CNO, G3E_LENO, G3E_FIELDS,
G3E_EDITDATE, G3E_ATTRAFFECTSMEMBERSHIP )
VALUES (200 + 40, 'VGC_GENSYMTYP_FID_T', 200, 40, NULL, NULL, SYSDATE, 0); 
COMMIT;

INSERT INTO G3E_COMPONENTVIEWCOMPOSITION ( G3E_CVCNO, G3E_VNO, G3E_CNO, G3E_FNO )
VALUES ((200 + 40) * 100 + 40, 200 + 40, 40, 200);
COMMIT;


INSERT INTO G3E_COLUMN_METADATA ( TABLENAME, COLUMNNAME, COLUMNTYPE, COLUMNSUBTYPE, ATTRIBUTES, GEOMETRYFORMAT,
 SDOORDCNT, SDOESEQ, COORDSYSTEMINDEX ) 
VALUES ('VGC_GENSYMTYP_FID_T', 'G3E_GEOMETRY', 32, 10, NULL, NULL, 2, NULL, NULL);
COMMIT; 


INSERT INTO MODIFIEDTABLES ( MODIFIEDTABLEID, TABLENAME) 
VALUES ((select max(MODIFIEDTABLEID)+1 from MODIFIEDTABLES),'VGC_GENSYMTYP_FID_T');
COMMIT;



BEGIN
create_component_view.create_geom_component_view ('VGC_GENSYMTYP_FID_T','GC_FID_T');
END;
/



INSERT INTO G3E_LEGENDENTRY (G3E_LENO, G3E_LEGENDENTRY, G3E_USERNAME, G3E_VNO, G3E_SRNO, G3E_LRNO,
G3E_EDITDATE, G3E_ROLE ) VALUES ( 
((200 + 40)*100 + 40), 'VGC_GENSYMTYP_FID_T', 'Texto FID do Símbolo Geral', 200 + 40, 2905507, 3275007, SYSDATE, 'EVERYONE');
COMMIT;

UPDATE G3E_COMPONENTVIEWDEFINITION SET G3E_LENO=((200 + 40)*100 + 40) WHERE G3E_VNO=200 + 40;
COMMIT;


INSERT INTO G3E_LEGGEO_DEFAULT ( G3E_LENO, G3E_DISPLAYMODE, G3E_DISPLAYSCALEMIN, G3E_DISPLAYSCALEMAX
, G3E_DISPLAYORDINAL, G3E_USEDISPLAYSCALE, G3E_LOCATABLE ) VALUES ( 
((200 + 40)*100 + 40), 1, 1, 10000, 5, 1, 1); 
COMMIT;

UPDATE G3E_LEGGEO_DEFDSP SET G3E_ORDINAL = G3E_ORDINAL + 3 WHERE G3E_ORDINAL>(SELECT D.G3E_ORDINAL FROM G3E_LEGGEO_DEFDSP D WHERE D.G3E_LEGENDITEM = 'General Symbol');

INSERT INTO G3E_LEGGEO_DEFDSP ( G3E_LEGENDITEM, G3E_USERNAME, G3E_LEVEL, G3E_ORDINAL
, G3E_LEAFINDICATOR, G3E_DCROWNO ) VALUES ( 
'VGC_GENSYMTYP_FID_T', 'Texto FID do Símbolo Geral', 3, (SELECT G3E_ORDINAL+1 FROM G3E_LEGGEO_DEFDSP WHERE G3E_LEGENDITEM = 'General Symbol'), 1, (select max(G3E_DCROWNO)+1 from G3E_LEGGEO_DEFDSP)); 
COMMIT;



insert into publicador_ddc_view values ((SELECT MAX(ID)+1 FROM PUBLICADOR_DDC_VIEW), (SELECT MAX(PUBLICADOR_DDC)+1 FROM PUBLICADOR_DDC_VIEW), 'VGC_GENSYMTYP_FID_T'); 
COMMIT;


/*-------------------------------------------------------------Subduto------------------------------------------------------------*/
insert into g3e_featurecomponent (G3E_FCNO, G3E_FNO, G3E_CNO, G3E_REQUIRED, G3E_REPEATING, G3E_AUTOREPEAT, G3E_PINO, G3E_ORDINAL, G3E_INTERFACEARGUMENT, G3E_DERIVEDFROMCNO, G3E_INSERTORDINAL, G3E_DELETEORDINAL, G3E_REFRESH, G3E_ALTERNATEREQUIREDCNO, G3E_REPLACE, G3E_EDITDATE, G3E_BREAKACTION, G3E_COMPONENTELIMINATION, G3E_COMPONENTASSIGNMENT, G3E_COMPONENTADJUSTMENT, G3E_GEOPROXIMITYTOLERANCE, G3E_BREAKLINEARCNO, G3E_ALTERNATEGEOGRAPHIC, G3E_ALTERNATEGEOORDINAL, G3E_RINO, G3E_RIARGGROUPNO, G3E_INCLUDEINPLACEMENT, G3E_MERGEMAXDISTANCE, G3E_MERGECOMMONPRECOND, G3E_MERGEPRECOND, G3E_MERGEOCCURRENCES, G3E_MERGERINO, G3E_MERGERIARGGROUPNO, G3E_CCNO, G3E_GENERATE)
values (2100 + 40, 2100, 40, 0, 0, 0, 7, (SELECT MAX(G3E_ORDINAL)+1 FROM G3E_FEATURECOMPONENT), 
'0C20010000001000000001000000010000000C20010000001000000000000000040000000800000000000300000026004800390008000000000000000000080000000000000000000800000000000000000008000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000', null, (SELECT MAX(G3E_ORDINAL)+1 FROM G3E_FEATURECOMPONENT), (SELECT MAX(G3E_ORDINAL)+1 FROM G3E_FEATURECOMPONENT), 0, 3031, 1, SYSDATE, 1, 2, 1, 1, 1, null, 0, 0, null, null, 1, null, null, null, 1, null, null, null, 0);
COMMIT;


CREATE OR REPLACE VIEW VGC_IDUCTT_FID_T
(G3E_ID, G3E_FNO, G3E_CNO, G3E_FID, G3E_CID, G3E_GEOMETRY, G3E_ALIGNMENT,
 JOB_ID, JOB_STATE, FEATURE_STATE, SWITCH_CENTRE_CLLI, OWNERSHIP)
AS 
SELECT 
B.G3E_ID,
B.G3E_FNO,
B.G3E_CNO,
B.G3E_FID,
B.G3E_CID,
B.G3E_GEOMETRY,
B.G3E_ALIGNMENT,
D.JOB_ID,
D.JOB_STATE,
D.FEATURE_STATE,
D.SWITCH_CENTRE_CLLI,
D.OWNERSHIP
FROM
GC_FID_T B,
GC_NETELEM D
WHERE
D.G3E_FNO=2100
AND B.G3E_FID=D.G3E_FID;


INSERT INTO G3E_COMPONENTVIEWDEFINITION ( G3E_VNO, G3E_VIEW, G3E_FNO, G3E_CNO, G3E_LENO, G3E_FIELDS,
G3E_EDITDATE, G3E_ATTRAFFECTSMEMBERSHIP )
VALUES (2100 + 40, 'VGC_IDUCTT_FID_T', 2100, 40, NULL, NULL, SYSDATE, 0); 
COMMIT;

INSERT INTO G3E_COMPONENTVIEWCOMPOSITION ( G3E_CVCNO, G3E_VNO, G3E_CNO, G3E_FNO )
VALUES ((2100 + 40) * 100 + 40, 2100 + 40, 40, 2100);
COMMIT;


INSERT INTO G3E_COLUMN_METADATA ( TABLENAME, COLUMNNAME, COLUMNTYPE, COLUMNSUBTYPE, ATTRIBUTES, GEOMETRYFORMAT,
 SDOORDCNT, SDOESEQ, COORDSYSTEMINDEX ) 
VALUES ('VGC_IDUCTT_FID_T', 'G3E_GEOMETRY', 32, 10, NULL, NULL, 2, NULL, NULL);
COMMIT; 


INSERT INTO MODIFIEDTABLES ( MODIFIEDTABLEID, TABLENAME) 
VALUES ((select max(MODIFIEDTABLEID)+1 from MODIFIEDTABLES),'VGC_IDUCTT_FID_T');
COMMIT;




BEGIN
create_component_view.create_geom_component_view ('VGC_IDUCTT_FID_T','GC_FID_T');
END;
/



INSERT INTO G3E_LEGENDENTRY (G3E_LENO, G3E_LEGENDENTRY, G3E_USERNAME, G3E_VNO, G3E_SRNO, G3E_LRNO,
G3E_EDITDATE, G3E_ROLE ) VALUES ( 
((2100 + 40)*100 + 40), 'VGC_IDUCTT_FID_T', 'Texto FID do Subduto', 2100 + 40, 2905507, 3275007, SYSDATE, 'EVERYONE');
COMMIT;

UPDATE G3E_COMPONENTVIEWDEFINITION SET G3E_LENO=((2100 + 40)*100 + 40) WHERE G3E_VNO=2100 + 40;
COMMIT;


INSERT INTO G3E_LEGGEO_DEFAULT ( G3E_LENO, G3E_DISPLAYMODE, G3E_DISPLAYSCALEMIN, G3E_DISPLAYSCALEMAX
, G3E_DISPLAYORDINAL, G3E_USEDISPLAYSCALE, G3E_LOCATABLE ) VALUES ( 
((2100 + 40)*100 + 40), 1, 1, 10000, 5, 1, 1); 
COMMIT;

UPDATE G3E_LEGGEO_DEFDSP SET G3E_ORDINAL = G3E_ORDINAL + 3 WHERE G3E_ORDINAL>(SELECT D.G3E_ORDINAL FROM G3E_LEGGEO_DEFDSP D WHERE D.G3E_LEGENDITEM = 'Inner Duct');

INSERT INTO G3E_LEGGEO_DEFDSP ( G3E_LEGENDITEM, G3E_USERNAME, G3E_LEVEL, G3E_ORDINAL
, G3E_LEAFINDICATOR, G3E_DCROWNO ) VALUES ( 
'VGC_IDUCTT_FID_T', 'Texto FID do Subduto', 3, (SELECT G3E_ORDINAL+1 FROM G3E_LEGGEO_DEFDSP WHERE G3E_LEGENDITEM = 'Inner Duct'), 1, (select max(G3E_DCROWNO)+1 from G3E_LEGGEO_DEFDSP)); 
COMMIT;



insert into publicador_ddc_view values ((SELECT MAX(ID)+1 FROM PUBLICADOR_DDC_VIEW), (SELECT MAX(PUBLICADOR_DDC)+1 FROM PUBLICADOR_DDC_VIEW), 'VGC_IDUCTT_FID_T'); 
COMMIT;


/*-------------------------------------------------------------Terminal------------------------------------------------------------*/
insert into g3e_featurecomponent (G3E_FCNO, G3E_FNO, G3E_CNO, G3E_REQUIRED, G3E_REPEATING, G3E_AUTOREPEAT, G3E_PINO, G3E_ORDINAL, G3E_INTERFACEARGUMENT, G3E_DERIVEDFROMCNO, G3E_INSERTORDINAL, G3E_DELETEORDINAL, G3E_REFRESH, G3E_ALTERNATEREQUIREDCNO, G3E_REPLACE, G3E_EDITDATE, G3E_BREAKACTION, G3E_COMPONENTELIMINATION, G3E_COMPONENTASSIGNMENT, G3E_COMPONENTADJUSTMENT, G3E_GEOPROXIMITYTOLERANCE, G3E_BREAKLINEARCNO, G3E_ALTERNATEGEOGRAPHIC, G3E_ALTERNATEGEOORDINAL, G3E_RINO, G3E_RIARGGROUPNO, G3E_INCLUDEINPLACEMENT, G3E_MERGEMAXDISTANCE, G3E_MERGECOMMONPRECOND, G3E_MERGEPRECOND, G3E_MERGEOCCURRENCES, G3E_MERGERINO, G3E_MERGERIARGGROUPNO, G3E_CCNO, G3E_GENERATE)
values (10900 + 50, 10900, 40, 0, 0, 0, 7, (SELECT MAX(G3E_ORDINAL)+1 FROM G3E_FEATURECOMPONENT), 
'0C20010000001000000001000000010000000C20010000001000000000000000040000000800000000000300000026004800390008000000000000000000080000000000000000000800000000000000000008000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000', null, (SELECT MAX(G3E_ORDINAL)+1 FROM G3E_FEATURECOMPONENT), (SELECT MAX(G3E_ORDINAL)+1 FROM G3E_FEATURECOMPONENT), 0, 3031, 1, SYSDATE, 1, 2, 1, 1, 1, null, 0, 0, null, null, 1, null, null, null, 1, null, null, null, 0);
COMMIT;


CREATE OR REPLACE VIEW VGC_TERM_FID_T
(G3E_ID, G3E_FNO, G3E_CNO, G3E_FID, G3E_CID, G3E_GEOMETRY, G3E_ALIGNMENT,
 JOB_ID, JOB_STATE, FEATURE_STATE, SWITCH_CENTRE_CLLI, OWNERSHIP)
AS 
SELECT 
B.G3E_ID,
B.G3E_FNO,
B.G3E_CNO,
B.G3E_FID,
B.G3E_CID,
B.G3E_GEOMETRY,
B.G3E_ALIGNMENT,
D.JOB_ID,
D.JOB_STATE,
D.FEATURE_STATE,
D.SWITCH_CENTRE_CLLI,
D.OWNERSHIP
FROM
GC_FID_T B,
GC_NETELEM D
WHERE
D.G3E_FNO=10900
AND B.G3E_FID=D.G3E_FID;


INSERT INTO G3E_COMPONENTVIEWDEFINITION ( G3E_VNO, G3E_VIEW, G3E_FNO, G3E_CNO, G3E_LENO, G3E_FIELDS,
G3E_EDITDATE, G3E_ATTRAFFECTSMEMBERSHIP )
VALUES (10900 + 50, 'VGC_TERM_FID_T', 10900, 40, NULL, NULL, SYSDATE, 0); 
COMMIT;

INSERT INTO G3E_COMPONENTVIEWCOMPOSITION ( G3E_CVCNO, G3E_VNO, G3E_CNO, G3E_FNO )
VALUES ((10900 + 50) * 100 + 50, 10900 + 50, 40, 10900);
COMMIT;


INSERT INTO G3E_COLUMN_METADATA ( TABLENAME, COLUMNNAME, COLUMNTYPE, COLUMNSUBTYPE, ATTRIBUTES, GEOMETRYFORMAT,
 SDOORDCNT, SDOESEQ, COORDSYSTEMINDEX ) 
VALUES ('VGC_TERM_FID_T', 'G3E_GEOMETRY', 32, 10, NULL, NULL, 2, NULL, NULL);
COMMIT; 


INSERT INTO MODIFIEDTABLES ( MODIFIEDTABLEID, TABLENAME) 
VALUES ((select max(MODIFIEDTABLEID)+1 from MODIFIEDTABLES),'VGC_TERM_FID_T');
COMMIT;



BEGIN
create_component_view.create_geom_component_view ('VGC_TERM_FID_T','GC_FID_T');
END;
/


INSERT INTO G3E_LEGENDENTRY (G3E_LENO, G3E_LEGENDENTRY, G3E_USERNAME, G3E_VNO, G3E_SRNO, G3E_LRNO,
G3E_EDITDATE, G3E_ROLE ) VALUES ( 
((10900 + 50)*100 + 50), 'VGC_TERM_FID_T', 'Texto FID do Terminal', 10900 + 50, 2905507, 3275007, SYSDATE, 'EVERYONE');
COMMIT;

UPDATE G3E_COMPONENTVIEWDEFINITION SET G3E_LENO=((10900 + 50)*100 + 50) WHERE G3E_VNO=10900 + 50;
COMMIT;


INSERT INTO G3E_LEGGEO_DEFAULT ( G3E_LENO, G3E_DISPLAYMODE, G3E_DISPLAYSCALEMIN, G3E_DISPLAYSCALEMAX
, G3E_DISPLAYORDINAL, G3E_USEDISPLAYSCALE, G3E_LOCATABLE ) VALUES ( 
((10900 + 50)*100 + 50), 1, 1, 10000, 5, 1, 1); 
COMMIT;

UPDATE G3E_LEGGEO_DEFDSP SET G3E_ORDINAL = G3E_ORDINAL + 3 WHERE G3E_ORDINAL>(SELECT D.G3E_ORDINAL FROM G3E_LEGGEO_DEFDSP D WHERE D.G3E_LEGENDITEM = 'Terminal');

INSERT INTO G3E_LEGGEO_DEFDSP ( G3E_LEGENDITEM, G3E_USERNAME, G3E_LEVEL, G3E_ORDINAL
, G3E_LEAFINDICATOR, G3E_DCROWNO ) VALUES ( 
'VGC_TERM_FID_T', 'Texto FID do Terminal', 3, (SELECT G3E_ORDINAL+1 FROM G3E_LEGGEO_DEFDSP WHERE G3E_LEGENDITEM = 'Terminal'), 1, (select max(G3E_DCROWNO)+1 from G3E_LEGGEO_DEFDSP)); 
COMMIT;



insert into publicador_ddc_view values ((SELECT MAX(ID)+1 FROM PUBLICADOR_DDC_VIEW), (SELECT MAX(PUBLICADOR_DDC)+1 FROM PUBLICADOR_DDC_VIEW), 'VGC_TERM_FID_T'); 
COMMIT;


/*-------------------------------------------------------------Bastidor------------------------------------------------------------*/
insert into g3e_featurecomponent (G3E_FCNO, G3E_FNO, G3E_CNO, G3E_REQUIRED, G3E_REPEATING, G3E_AUTOREPEAT, G3E_PINO, G3E_ORDINAL, G3E_INTERFACEARGUMENT, G3E_DERIVEDFROMCNO, G3E_INSERTORDINAL, G3E_DELETEORDINAL, G3E_REFRESH, G3E_ALTERNATEREQUIREDCNO, G3E_REPLACE, G3E_EDITDATE, G3E_BREAKACTION, G3E_COMPONENTELIMINATION, G3E_COMPONENTASSIGNMENT, G3E_COMPONENTADJUSTMENT, G3E_GEOPROXIMITYTOLERANCE, G3E_BREAKLINEARCNO, G3E_ALTERNATEGEOGRAPHIC, G3E_ALTERNATEGEOORDINAL, G3E_RINO, G3E_RIARGGROUPNO, G3E_INCLUDEINPLACEMENT, G3E_MERGEMAXDISTANCE, G3E_MERGECOMMONPRECOND, G3E_MERGEPRECOND, G3E_MERGEOCCURRENCES, G3E_MERGERINO, G3E_MERGERIARGGROUPNO, G3E_CCNO, G3E_GENERATE)
values (12000 + 40, 12000, 40, 0, 0, 0, 7, (SELECT MAX(G3E_ORDINAL)+1 FROM G3E_FEATURECOMPONENT), 
'0C20010000001000000001000000010000000C20010000001000000000000000040000000800000000000300000026004800390008000000000000000000080000000000000000000800000000000000000008000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000', null, (SELECT MAX(G3E_ORDINAL)+1 FROM G3E_FEATURECOMPONENT), (SELECT MAX(G3E_ORDINAL)+1 FROM G3E_FEATURECOMPONENT), 0, 3031, 1, SYSDATE, 1, 2, 1, 1, 1, null, 0, 0, null, null, 1, null, null, null, 1, null, null, null, 0);
COMMIT;


CREATE OR REPLACE VIEW VGC_ISPCONNECT_FID_T
(G3E_ID, G3E_FNO, G3E_CNO, G3E_FID, G3E_CID, G3E_GEOMETRY, G3E_ALIGNMENT,
 JOB_ID, JOB_STATE, FEATURE_STATE, SWITCH_CENTRE_CLLI, OWNERSHIP)
AS 
SELECT 
B.G3E_ID,
B.G3E_FNO,
B.G3E_CNO,
B.G3E_FID,
B.G3E_CID,
B.G3E_GEOMETRY,
B.G3E_ALIGNMENT,
D.JOB_ID,
D.JOB_STATE,
D.FEATURE_STATE,
D.SWITCH_CENTRE_CLLI,
D.OWNERSHIP
FROM
GC_FID_T B,
GC_NETELEM D
WHERE
D.G3E_FNO=12000
AND B.G3E_FID=D.G3E_FID;


INSERT INTO G3E_COMPONENTVIEWDEFINITION ( G3E_VNO, G3E_VIEW, G3E_FNO, G3E_CNO, G3E_LENO, G3E_FIELDS,
G3E_EDITDATE, G3E_ATTRAFFECTSMEMBERSHIP )
VALUES (12000 + 40, 'VGC_ISPCONNECT_FID_T', 12000, 40, NULL, NULL, SYSDATE, 0); 
COMMIT;

INSERT INTO G3E_COMPONENTVIEWCOMPOSITION ( G3E_CVCNO, G3E_VNO, G3E_CNO, G3E_FNO )
VALUES ((12000 + 40) * 100 + 50, 12000 + 40, 40, 12000);
COMMIT;


INSERT INTO G3E_COLUMN_METADATA ( TABLENAME, COLUMNNAME, COLUMNTYPE, COLUMNSUBTYPE, ATTRIBUTES, GEOMETRYFORMAT,
 SDOORDCNT, SDOESEQ, COORDSYSTEMINDEX ) 
VALUES ('VGC_ISPCONNECT_FID_T', 'G3E_GEOMETRY', 32, 10, NULL, NULL, 2, NULL, NULL);
COMMIT; 


INSERT INTO MODIFIEDTABLES ( MODIFIEDTABLEID, TABLENAME) 
VALUES ((select max(MODIFIEDTABLEID)+1 from MODIFIEDTABLES),'VGC_ISPCONNECT_FID_T');
COMMIT;


BEGIN
create_component_view.create_geom_component_view ('VGC_ISPCONNECT_FID_T','GC_FID_T');
END;
/


INSERT INTO G3E_LEGENDENTRY (G3E_LENO, G3E_LEGENDENTRY, G3E_USERNAME, G3E_VNO, G3E_SRNO, G3E_LRNO,
G3E_EDITDATE, G3E_ROLE ) VALUES ( 
((12000 + 40)*100 + 40), 'VGC_ISPCONNECT_FID_T', 'Texto FID do Bastidor', 12000 + 40, 2905507, 3275007, SYSDATE, 'EVERYONE');
COMMIT;

UPDATE G3E_COMPONENTVIEWDEFINITION SET G3E_LENO=((12000 + 40)*100 + 40) WHERE G3E_VNO=12000 + 40;
COMMIT;


INSERT INTO G3E_LEGGEO_DEFAULT ( G3E_LENO, G3E_DISPLAYMODE, G3E_DISPLAYSCALEMIN, G3E_DISPLAYSCALEMAX
, G3E_DISPLAYORDINAL, G3E_USEDISPLAYSCALE, G3E_LOCATABLE ) VALUES ( 
((12000 + 40)*100 + 40), 1, 1, 10000, 5, 1, 1); 
COMMIT;

UPDATE G3E_LEGGEO_DEFDSP SET G3E_ORDINAL = G3E_ORDINAL + 3 WHERE G3E_ORDINAL>(SELECT D.G3E_ORDINAL FROM G3E_LEGGEO_DEFDSP D WHERE D.G3E_LEGENDITEM = 'Bastidor');

INSERT INTO G3E_LEGGEO_DEFDSP ( G3E_LEGENDITEM, G3E_USERNAME, G3E_LEVEL, G3E_ORDINAL
, G3E_LEAFINDICATOR, G3E_DCROWNO ) VALUES ( 
'VGC_ISPCONNECT_FID_T', 'Texto FID do Bastidor', 3, (SELECT G3E_ORDINAL+1 FROM G3E_LEGGEO_DEFDSP WHERE G3E_LEGENDITEM = 'Bastidor'), 1, (select max(G3E_DCROWNO)+1 from G3E_LEGGEO_DEFDSP)); 
COMMIT;



insert into publicador_ddc_view values ((SELECT MAX(ID)+1 FROM PUBLICADOR_DDC_VIEW), (SELECT MAX(PUBLICADOR_DDC)+1 FROM PUBLICADOR_DDC_VIEW), 'VGC_ISPCONNECT_FID_T'); 
COMMIT;


/*-------------------------------------------------------------Duto------------------------------------------------------------*/
insert into g3e_featurecomponent (G3E_FCNO, G3E_FNO, G3E_CNO, G3E_REQUIRED, G3E_REPEATING, G3E_AUTOREPEAT, G3E_PINO, G3E_ORDINAL, G3E_INTERFACEARGUMENT, G3E_DERIVEDFROMCNO, G3E_INSERTORDINAL, G3E_DELETEORDINAL, G3E_REFRESH, G3E_ALTERNATEREQUIREDCNO, G3E_REPLACE, G3E_EDITDATE, G3E_BREAKACTION, G3E_COMPONENTELIMINATION, G3E_COMPONENTASSIGNMENT, G3E_COMPONENTADJUSTMENT, G3E_GEOPROXIMITYTOLERANCE, G3E_BREAKLINEARCNO, G3E_ALTERNATEGEOGRAPHIC, G3E_ALTERNATEGEOORDINAL, G3E_RINO, G3E_RIARGGROUPNO, G3E_INCLUDEINPLACEMENT, G3E_MERGEMAXDISTANCE, G3E_MERGECOMMONPRECOND, G3E_MERGEPRECOND, G3E_MERGEOCCURRENCES, G3E_MERGERINO, G3E_MERGERIARGGROUPNO, G3E_CCNO, G3E_GENERATE)
values (2300 + 40, 2300, 40, 0, 0, 0, 7, (SELECT MAX(G3E_ORDINAL)+1 FROM G3E_FEATURECOMPONENT), 
'0C20010000001000000001000000010000000C20010000001000000000000000040000000800000000000300000026004800390008000000000000000000080000000000000000000800000000000000000008000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000', null, (SELECT MAX(G3E_ORDINAL)+1 FROM G3E_FEATURECOMPONENT), (SELECT MAX(G3E_ORDINAL)+1 FROM G3E_FEATURECOMPONENT), 0, 3031, 1, SYSDATE, 1, 2, 1, 1, 1, null, 0, 0, null, null, 1, null, null, null, 1, null, null, null, 0);
COMMIT;


CREATE OR REPLACE VIEW VGC_DUCTT_FID_T
(G3E_ID, G3E_FNO, G3E_CNO, G3E_FID, G3E_CID, G3E_GEOMETRY, G3E_ALIGNMENT,
 JOB_ID, JOB_STATE, FEATURE_STATE, SWITCH_CENTRE_CLLI, OWNERSHIP)
AS 
SELECT 
B.G3E_ID,
B.G3E_FNO,
B.G3E_CNO,
B.G3E_FID,
B.G3E_CID,
B.G3E_GEOMETRY,
B.G3E_ALIGNMENT,
D.JOB_ID,
D.JOB_STATE,
D.FEATURE_STATE,
D.SWITCH_CENTRE_CLLI,
D.OWNERSHIP
FROM
GC_FID_T B,
GC_NETELEM D
WHERE
D.G3E_FNO=2300
AND B.G3E_FID=D.G3E_FID;


INSERT INTO G3E_COMPONENTVIEWDEFINITION ( G3E_VNO, G3E_VIEW, G3E_FNO, G3E_CNO, G3E_LENO, G3E_FIELDS,
G3E_EDITDATE, G3E_ATTRAFFECTSMEMBERSHIP )
VALUES (2300 + 40, 'VGC_DUCTT_FID_T', 2300, 40, NULL, NULL, SYSDATE, 0); 
COMMIT;

INSERT INTO G3E_COMPONENTVIEWCOMPOSITION ( G3E_CVCNO, G3E_VNO, G3E_CNO, G3E_FNO )
VALUES ((2300 + 40) * 100 + 40, 2300 + 40, 40, 2300);
COMMIT;


INSERT INTO G3E_COLUMN_METADATA ( TABLENAME, COLUMNNAME, COLUMNTYPE, COLUMNSUBTYPE, ATTRIBUTES, GEOMETRYFORMAT,
 SDOORDCNT, SDOESEQ, COORDSYSTEMINDEX ) 
VALUES ('VGC_DUCTT_FID_T', 'G3E_GEOMETRY', 32, 10, NULL, NULL, 2, NULL, NULL);
COMMIT; 


INSERT INTO MODIFIEDTABLES ( MODIFIEDTABLEID, TABLENAME) 
VALUES ((select max(MODIFIEDTABLEID)+1 from MODIFIEDTABLES),'VGC_DUCTT_FID_T');
COMMIT;


BEGIN
create_component_view.create_geom_component_view ('VGC_DUCTT_FID_T','GC_FID_T');
END;
/



INSERT INTO G3E_LEGENDENTRY (G3E_LENO, G3E_LEGENDENTRY, G3E_USERNAME, G3E_VNO, G3E_SRNO, G3E_LRNO,
G3E_EDITDATE, G3E_ROLE ) VALUES ( 
((2300 + 40)*100 + 40), 'VGC_DUCTT_FID_T', 'Texto FID do Duto', 2300 + 40, 2905507, 3275007, SYSDATE, 'EVERYONE');
COMMIT;

UPDATE G3E_COMPONENTVIEWDEFINITION SET G3E_LENO=((2300 + 40)*100 + 40) WHERE G3E_VNO=2300 + 40;
COMMIT;


INSERT INTO G3E_LEGGEO_DEFAULT ( G3E_LENO, G3E_DISPLAYMODE, G3E_DISPLAYSCALEMIN, G3E_DISPLAYSCALEMAX
, G3E_DISPLAYORDINAL, G3E_USEDISPLAYSCALE, G3E_LOCATABLE ) VALUES ( 
((2300 + 40)*100 + 40), 1, 1, 10000, 5, 1, 1); 
COMMIT;

UPDATE G3E_LEGGEO_DEFDSP SET G3E_ORDINAL = G3E_ORDINAL + 3 WHERE G3E_ORDINAL>(SELECT D.G3E_ORDINAL FROM G3E_LEGGEO_DEFDSP D WHERE D.G3E_LEGENDITEM = 'Duct');

INSERT INTO G3E_LEGGEO_DEFDSP ( G3E_LEGENDITEM, G3E_USERNAME, G3E_LEVEL, G3E_ORDINAL
, G3E_LEAFINDICATOR, G3E_DCROWNO ) VALUES ( 
'VGC_DUCTT_FID_T', 'Texto FID do Duto', 3, (SELECT G3E_ORDINAL+1 FROM G3E_LEGGEO_DEFDSP WHERE G3E_LEGENDITEM = 'Duct'), 1, (select max(G3E_DCROWNO)+1 from G3E_LEGGEO_DEFDSP)); 
COMMIT;


insert into publicador_ddc_view values ((SELECT MAX(ID)+1 FROM PUBLICADOR_DDC_VIEW), (SELECT MAX(PUBLICADOR_DDC)+1 FROM PUBLICADOR_DDC_VIEW), 'VGC_DUCTT_FID_T'); 
COMMIT;


/*-------------------------------------------------------------Formação------------------------------------------------------------*/
insert into g3e_featurecomponent (G3E_FCNO, G3E_FNO, G3E_CNO, G3E_REQUIRED, G3E_REPEATING, G3E_AUTOREPEAT, G3E_PINO, G3E_ORDINAL, G3E_INTERFACEARGUMENT, G3E_DERIVEDFROMCNO, G3E_INSERTORDINAL, G3E_DELETEORDINAL, G3E_REFRESH, G3E_ALTERNATEREQUIREDCNO, G3E_REPLACE, G3E_EDITDATE, G3E_BREAKACTION, G3E_COMPONENTELIMINATION, G3E_COMPONENTASSIGNMENT, G3E_COMPONENTADJUSTMENT, G3E_GEOPROXIMITYTOLERANCE, G3E_BREAKLINEARCNO, G3E_ALTERNATEGEOGRAPHIC, G3E_ALTERNATEGEOORDINAL, G3E_RINO, G3E_RIARGGROUPNO, G3E_INCLUDEINPLACEMENT, G3E_MERGEMAXDISTANCE, G3E_MERGECOMMONPRECOND, G3E_MERGEPRECOND, G3E_MERGEOCCURRENCES, G3E_MERGERINO, G3E_MERGERIARGGROUPNO, G3E_CCNO, G3E_GENERATE)
values (2400 + 40, 2400, 40, 0, 0, 0, 7, (SELECT MAX(G3E_ORDINAL)+1 FROM G3E_FEATURECOMPONENT), 
'0C20010000001000000001000000010000000C20010000001000000000000000040000000800000000000300000026004800390008000000000000000000080000000000000000000800000000000000000008000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000', null, (SELECT MAX(G3E_ORDINAL)+1 FROM G3E_FEATURECOMPONENT), (SELECT MAX(G3E_ORDINAL)+1 FROM G3E_FEATURECOMPONENT), 0, 3031, 1, SYSDATE, 1, 2, 1, 1, 1, null, 0, 0, null, null, 1, null, null, null, 1, null, null, null, 0);
COMMIT;


CREATE OR REPLACE VIEW VGC_FORMTO_FID_T
(G3E_ID, G3E_FNO, G3E_CNO, G3E_FID, G3E_CID, G3E_GEOMETRY, G3E_ALIGNMENT,
 JOB_ID, JOB_STATE, FEATURE_STATE, SWITCH_CENTRE_CLLI, OWNERSHIP)
AS 
SELECT 
B.G3E_ID,
B.G3E_FNO,
B.G3E_CNO,
B.G3E_FID,
B.G3E_CID,
B.G3E_GEOMETRY,
B.G3E_ALIGNMENT,
D.JOB_ID,
D.JOB_STATE,
D.FEATURE_STATE,
D.SWITCH_CENTRE_CLLI,
D.OWNERSHIP
FROM
GC_FID_T B,
GC_NETELEM D
WHERE
D.G3E_FNO=2400
AND B.G3E_FID=D.G3E_FID;


INSERT INTO G3E_COMPONENTVIEWDEFINITION ( G3E_VNO, G3E_VIEW, G3E_FNO, G3E_CNO, G3E_LENO, G3E_FIELDS,
G3E_EDITDATE, G3E_ATTRAFFECTSMEMBERSHIP )
VALUES (2400 + 40, 'VGC_FORMTO_FID_T', 2400, 40, NULL, NULL, SYSDATE, 0); 
COMMIT;

INSERT INTO G3E_COMPONENTVIEWCOMPOSITION ( G3E_CVCNO, G3E_VNO, G3E_CNO, G3E_FNO )
VALUES ((2400 + 40) * 100 + 40, 2400 + 40, 40, 2400);
COMMIT;


INSERT INTO G3E_COLUMN_METADATA ( TABLENAME, COLUMNNAME, COLUMNTYPE, COLUMNSUBTYPE, ATTRIBUTES, GEOMETRYFORMAT,
 SDOORDCNT, SDOESEQ, COORDSYSTEMINDEX ) 
VALUES ('VGC_FORMTO_FID_T', 'G3E_GEOMETRY', 32, 10, NULL, NULL, 2, NULL, NULL);
COMMIT; 


INSERT INTO MODIFIEDTABLES ( MODIFIEDTABLEID, TABLENAME) 
VALUES ((select max(MODIFIEDTABLEID)+1 from MODIFIEDTABLES),'VGC_FORMTO_FID_T');
COMMIT;


BEGIN
create_component_view.create_geom_component_view ('VGC_FORMTO_FID_T','GC_FID_T');
END;
/




INSERT INTO G3E_LEGENDENTRY (G3E_LENO, G3E_LEGENDENTRY, G3E_USERNAME, G3E_VNO, G3E_SRNO, G3E_LRNO,
G3E_EDITDATE, G3E_ROLE ) VALUES ( 
((2400 + 40)*100 + 40), 'VGC_FORMTO_FID_T', 'Texto FID da Formação', 2400 + 40, 2905507, 3275007, SYSDATE, 'EVERYONE');
COMMIT;

UPDATE G3E_COMPONENTVIEWDEFINITION SET G3E_LENO=((2400 + 40)*100 + 40) WHERE G3E_VNO=2400 + 40;
COMMIT;


INSERT INTO G3E_LEGGEO_DEFAULT ( G3E_LENO, G3E_DISPLAYMODE, G3E_DISPLAYSCALEMIN, G3E_DISPLAYSCALEMAX
, G3E_DISPLAYORDINAL, G3E_USEDISPLAYSCALE, G3E_LOCATABLE ) VALUES ( 
((2400 + 40)*100 + 40), 1, 1, 10000, 5, 1, 1); 
COMMIT;

UPDATE G3E_LEGGEO_DEFDSP SET G3E_ORDINAL = G3E_ORDINAL + 3 WHERE G3E_ORDINAL>(SELECT D.G3E_ORDINAL FROM G3E_LEGGEO_DEFDSP D WHERE D.G3E_LEGENDITEM = 'Formation');

INSERT INTO G3E_LEGGEO_DEFDSP ( G3E_LEGENDITEM, G3E_USERNAME, G3E_LEVEL, G3E_ORDINAL
, G3E_LEAFINDICATOR, G3E_DCROWNO ) VALUES ( 
'VGC_FORMTO_FID_T', 'Texto FID da Formação', 3, (SELECT G3E_ORDINAL+1 FROM G3E_LEGGEO_DEFDSP WHERE G3E_LEGENDITEM = 'Formation'), 1, (select max(G3E_DCROWNO)+1 from G3E_LEGGEO_DEFDSP)); 
COMMIT;


insert into publicador_ddc_view values ((SELECT MAX(ID)+1 FROM PUBLICADOR_DDC_VIEW), (SELECT MAX(PUBLICADOR_DDC)+1 FROM PUBLICADOR_DDC_VIEW), 'VGC_FORMTO_FID_T'); 
COMMIT;


/*-------------------------------------------------------------Junção de Cordoalha------------------------------------------------------------*/
insert into g3e_featurecomponent (G3E_FCNO, G3E_FNO, G3E_CNO, G3E_REQUIRED, G3E_REPEATING, G3E_AUTOREPEAT, G3E_PINO, G3E_ORDINAL, G3E_INTERFACEARGUMENT, G3E_DERIVEDFROMCNO, G3E_INSERTORDINAL, G3E_DELETEORDINAL, G3E_REFRESH, G3E_ALTERNATEREQUIREDCNO, G3E_REPLACE, G3E_EDITDATE, G3E_BREAKACTION, G3E_COMPONENTELIMINATION, G3E_COMPONENTASSIGNMENT, G3E_COMPONENTADJUSTMENT, G3E_GEOPROXIMITYTOLERANCE, G3E_BREAKLINEARCNO, G3E_ALTERNATEGEOGRAPHIC, G3E_ALTERNATEGEOORDINAL, G3E_RINO, G3E_RIARGGROUPNO, G3E_INCLUDEINPLACEMENT, G3E_MERGEMAXDISTANCE, G3E_MERGECOMMONPRECOND, G3E_MERGEPRECOND, G3E_MERGEOCCURRENCES, G3E_MERGERINO, G3E_MERGERIARGGROUPNO, G3E_CCNO, G3E_GENERATE)
values (3600 + 40, 3600, 40, 0, 0, 0, 7, (SELECT MAX(G3E_ORDINAL)+1 FROM G3E_FEATURECOMPONENT), 
'0C20010000001000000001000000010000000C20010000001000000000000000040000000800000000000300000026004800390008000000000000000000080000000000000000000800000000000000000008000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000', null, (SELECT MAX(G3E_ORDINAL)+1 FROM G3E_FEATURECOMPONENT), (SELECT MAX(G3E_ORDINAL)+1 FROM G3E_FEATURECOMPONENT), 0, 3031, 1, SYSDATE, 1, 2, 1, 1, 1, null, 0, 0, null, null, 1, null, null, null, 1, null, null, null, 0);
COMMIT;


CREATE OR REPLACE VIEW VGC_JUNCORD_FID_T
(G3E_ID, G3E_FNO, G3E_CNO, G3E_FID, G3E_CID, G3E_GEOMETRY, G3E_ALIGNMENT,
 JOB_ID, JOB_STATE, FEATURE_STATE, SWITCH_CENTRE_CLLI, OWNERSHIP)
AS 
SELECT 
B.G3E_ID,
B.G3E_FNO,
B.G3E_CNO,
B.G3E_FID,
B.G3E_CID,
B.G3E_GEOMETRY,
B.G3E_ALIGNMENT,
D.JOB_ID,
D.JOB_STATE,
D.FEATURE_STATE,
D.SWITCH_CENTRE_CLLI,
D.OWNERSHIP
FROM
GC_FID_T B,
GC_NETELEM D
WHERE
D.G3E_FNO=3600
AND B.G3E_FID=D.G3E_FID;


INSERT INTO G3E_COMPONENTVIEWDEFINITION ( G3E_VNO, G3E_VIEW, G3E_FNO, G3E_CNO, G3E_LENO, G3E_FIELDS,
G3E_EDITDATE, G3E_ATTRAFFECTSMEMBERSHIP )
VALUES (3600 + 40, 'VGC_JUNCORD_FID_T', 3600, 40, NULL, NULL, SYSDATE, 0); 
COMMIT;

INSERT INTO G3E_COMPONENTVIEWCOMPOSITION ( G3E_CVCNO, G3E_VNO, G3E_CNO, G3E_FNO )
VALUES ((3600 + 40) * 100 + 40, 3600 + 40, 40, 3600);
COMMIT;


INSERT INTO G3E_COLUMN_METADATA ( TABLENAME, COLUMNNAME, COLUMNTYPE, COLUMNSUBTYPE, ATTRIBUTES, GEOMETRYFORMAT,
 SDOORDCNT, SDOESEQ, COORDSYSTEMINDEX ) 
VALUES ('VGC_JUNCORD_FID_T', 'G3E_GEOMETRY', 32, 10, NULL, NULL, 2, NULL, NULL);
COMMIT; 


INSERT INTO MODIFIEDTABLES ( MODIFIEDTABLEID, TABLENAME) 
VALUES ((select max(MODIFIEDTABLEID)+1 from MODIFIEDTABLES),'VGC_JUNCORD_FID_T');
COMMIT;


BEGIN
create_component_view.create_geom_component_view ('VGC_JUNCORD_FID_T','GC_FID_T');
END;
/



INSERT INTO G3E_LEGENDENTRY (G3E_LENO, G3E_LEGENDENTRY, G3E_USERNAME, G3E_VNO, G3E_SRNO, G3E_LRNO,
G3E_EDITDATE, G3E_ROLE ) VALUES ( 
((3600 + 40)*100 + 40), 'VGC_JUNCORD_FID_T', 'Texto FID da Junção de Cordoalha', 3600 + 40, 2905507, 3275007, SYSDATE, 'EVERYONE');
COMMIT;

UPDATE G3E_COMPONENTVIEWDEFINITION SET G3E_LENO=((3600 + 40)*100 + 40) WHERE G3E_VNO=3600 + 40;
COMMIT;


INSERT INTO G3E_LEGGEO_DEFAULT ( G3E_LENO, G3E_DISPLAYMODE, G3E_DISPLAYSCALEMIN, G3E_DISPLAYSCALEMAX
, G3E_DISPLAYORDINAL, G3E_USEDISPLAYSCALE, G3E_LOCATABLE ) VALUES ( 
((3600 + 40)*100 + 40), 1, 1, 10000, 5, 1, 1); 
COMMIT;

UPDATE G3E_LEGGEO_DEFDSP SET G3E_ORDINAL = G3E_ORDINAL + 3 WHERE G3E_ORDINAL>(SELECT D.G3E_ORDINAL FROM G3E_LEGGEO_DEFDSP D WHERE D.G3E_LEGENDITEM = 'Junção de Cordoalha');

INSERT INTO G3E_LEGGEO_DEFDSP ( G3E_LEGENDITEM, G3E_USERNAME, G3E_LEVEL, G3E_ORDINAL
, G3E_LEAFINDICATOR, G3E_DCROWNO ) VALUES ( 
'VGC_JUNCORD_FID_T', 'Texto FID da Junção de Cordoalha', 3, (SELECT G3E_ORDINAL+1 FROM G3E_LEGGEO_DEFDSP WHERE G3E_LEGENDITEM = 'Junção de Cordoalha'), 1, (select max(G3E_DCROWNO)+1 from G3E_LEGGEO_DEFDSP)); 
COMMIT;


insert into publicador_ddc_view values ((SELECT MAX(ID)+1 FROM PUBLICADOR_DDC_VIEW), (SELECT MAX(PUBLICADOR_DDC)+1 FROM PUBLICADOR_DDC_VIEW), 'VGC_JUNCORD_FID_T'); 
COMMIT;


/*-------------------------------------------------------------Elementos de Pupinização------------------------------------------------------------*/
insert into g3e_featurecomponent (G3E_FCNO, G3E_FNO, G3E_CNO, G3E_REQUIRED, G3E_REPEATING, G3E_AUTOREPEAT, G3E_PINO, G3E_ORDINAL, G3E_INTERFACEARGUMENT, G3E_DERIVEDFROMCNO, G3E_INSERTORDINAL, G3E_DELETEORDINAL, G3E_REFRESH, G3E_ALTERNATEREQUIREDCNO, G3E_REPLACE, G3E_EDITDATE, G3E_BREAKACTION, G3E_COMPONENTELIMINATION, G3E_COMPONENTASSIGNMENT, G3E_COMPONENTADJUSTMENT, G3E_GEOPROXIMITYTOLERANCE, G3E_BREAKLINEARCNO, G3E_ALTERNATEGEOGRAPHIC, G3E_ALTERNATEGEOORDINAL, G3E_RINO, G3E_RIARGGROUPNO, G3E_INCLUDEINPLACEMENT, G3E_MERGEMAXDISTANCE, G3E_MERGECOMMONPRECOND, G3E_MERGEPRECOND, G3E_MERGEOCCURRENCES, G3E_MERGERINO, G3E_MERGERIARGGROUPNO, G3E_CCNO, G3E_GENERATE)
values (10400 + 70, 10400, 40, 0, 0, 0, 7, (SELECT MAX(G3E_ORDINAL)+1 FROM G3E_FEATURECOMPONENT), 
'0C20010000001000000001000000010000000C20010000001000000000000000040000000800000000000300000026004800390008000000000000000000080000000000000000000800000000000000000008000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000', null, (SELECT MAX(G3E_ORDINAL)+1 FROM G3E_FEATURECOMPONENT), (SELECT MAX(G3E_ORDINAL)+1 FROM G3E_FEATURECOMPONENT), 0, 3031, 1, SYSDATE, 1, 2, 1, 1, 1, null, 0, 0, null, null, 1, null, null, null, 1, null, null, null, 0);
COMMIT;


CREATE OR REPLACE VIEW VGC_LDCOIL_FID_T
(G3E_ID, G3E_FNO, G3E_CNO, G3E_FID, G3E_CID, G3E_GEOMETRY, G3E_ALIGNMENT,
 JOB_ID, JOB_STATE, FEATURE_STATE, SWITCH_CENTRE_CLLI, OWNERSHIP)
AS 
SELECT 
B.G3E_ID,
B.G3E_FNO,
B.G3E_CNO,
B.G3E_FID,
B.G3E_CID,
B.G3E_GEOMETRY,
B.G3E_ALIGNMENT,
D.JOB_ID,
D.JOB_STATE,
D.FEATURE_STATE,
D.SWITCH_CENTRE_CLLI,
D.OWNERSHIP
FROM
GC_FID_T B,
GC_NETELEM D
WHERE
D.G3E_FNO=10400
AND B.G3E_FID=D.G3E_FID;


INSERT INTO G3E_COMPONENTVIEWDEFINITION ( G3E_VNO, G3E_VIEW, G3E_FNO, G3E_CNO, G3E_LENO, G3E_FIELDS,
G3E_EDITDATE, G3E_ATTRAFFECTSMEMBERSHIP )
VALUES (10400 + 70, 'VGC_LDCOIL_FID_T', 10400, 40, NULL, NULL, SYSDATE, 0); 
COMMIT;

INSERT INTO G3E_COMPONENTVIEWCOMPOSITION ( G3E_CVCNO, G3E_VNO, G3E_CNO, G3E_FNO )
VALUES ((10400 + 70) * 100 + 70, 10400 + 70, 40, 10400);
COMMIT;


INSERT INTO G3E_COLUMN_METADATA ( TABLENAME, COLUMNNAME, COLUMNTYPE, COLUMNSUBTYPE, ATTRIBUTES, GEOMETRYFORMAT,
 SDOORDCNT, SDOESEQ, COORDSYSTEMINDEX ) 
VALUES ('VGC_LDCOIL_FID_T', 'G3E_GEOMETRY', 32, 10, NULL, NULL, 2, NULL, NULL);
COMMIT; 


INSERT INTO MODIFIEDTABLES ( MODIFIEDTABLEID, TABLENAME) 
VALUES ((select max(MODIFIEDTABLEID)+1 from MODIFIEDTABLES),'VGC_LDCOIL_FID_T');
COMMIT;


BEGIN
create_component_view.create_geom_component_view ('VGC_LDCOIL_FID_T','GC_FID_T');
END;
/


INSERT INTO G3E_LEGENDENTRY (G3E_LENO, G3E_LEGENDENTRY, G3E_USERNAME, G3E_VNO, G3E_SRNO, G3E_LRNO,
G3E_EDITDATE, G3E_ROLE ) VALUES ( 
((10400 + 70)*100 + 70), 'VGC_LDCOIL_FID_T', 'Texto FID dos Elementos de Pupinização', 10400 + 70, 2905507, 3275007, SYSDATE, 'EVERYONE');
COMMIT;

UPDATE G3E_COMPONENTVIEWDEFINITION SET G3E_LENO=((10400 + 70)*100 + 70) WHERE G3E_VNO=10400 + 70;
COMMIT;


INSERT INTO G3E_LEGGEO_DEFAULT ( G3E_LENO, G3E_DISPLAYMODE, G3E_DISPLAYSCALEMIN, G3E_DISPLAYSCALEMAX
, G3E_DISPLAYORDINAL, G3E_USEDISPLAYSCALE, G3E_LOCATABLE ) VALUES ( 
((10400 + 70)*100 + 70), 1, 1, 10000, 5, 1, 1); 
COMMIT;

UPDATE G3E_LEGGEO_DEFDSP SET G3E_ORDINAL = G3E_ORDINAL + 3 WHERE G3E_ORDINAL>(SELECT D.G3E_ORDINAL FROM G3E_LEGGEO_DEFDSP D WHERE D.G3E_LEGENDITEM = 'Load Coil');

INSERT INTO G3E_LEGGEO_DEFDSP ( G3E_LEGENDITEM, G3E_USERNAME, G3E_LEVEL, G3E_ORDINAL
, G3E_LEAFINDICATOR, G3E_DCROWNO ) VALUES ( 
'VGC_LDCOIL_FID_T', 'Texto FID dos Elementos de Pupinização', 3, (SELECT G3E_ORDINAL+1 FROM G3E_LEGGEO_DEFDSP WHERE G3E_LEGENDITEM = 'Load Coil'), 1, (select max(G3E_DCROWNO)+1 from G3E_LEGGEO_DEFDSP)); 
COMMIT;


insert into publicador_ddc_view values ((SELECT MAX(ID)+1 FROM PUBLICADOR_DDC_VIEW), (SELECT MAX(PUBLICADOR_DDC)+1 FROM PUBLICADOR_DDC_VIEW), 'VGC_LDCOIL_FID_T'); 
COMMIT;


/*-------------------------------------------------------------Conector de Passagem------------------------------------------------------------*/
insert into g3e_featurecomponent (G3E_FCNO, G3E_FNO, G3E_CNO, G3E_REQUIRED, G3E_REPEATING, G3E_AUTOREPEAT, G3E_PINO, G3E_ORDINAL, G3E_INTERFACEARGUMENT, G3E_DERIVEDFROMCNO, G3E_INSERTORDINAL, G3E_DELETEORDINAL, G3E_REFRESH, G3E_ALTERNATEREQUIREDCNO, G3E_REPLACE, G3E_EDITDATE, G3E_BREAKACTION, G3E_COMPONENTELIMINATION, G3E_COMPONENTASSIGNMENT, G3E_COMPONENTADJUSTMENT, G3E_GEOPROXIMITYTOLERANCE, G3E_BREAKLINEARCNO, G3E_ALTERNATEGEOGRAPHIC, G3E_ALTERNATEGEOORDINAL, G3E_RINO, G3E_RIARGGROUPNO, G3E_INCLUDEINPLACEMENT, G3E_MERGEMAXDISTANCE, G3E_MERGECOMMONPRECOND, G3E_MERGEPRECOND, G3E_MERGEOCCURRENCES, G3E_MERGERINO, G3E_MERGERIARGGROUPNO, G3E_CCNO, G3E_GENERATE)
values (2800 + 40, 2800, 40, 0, 0, 0, 7, (SELECT MAX(G3E_ORDINAL)+1 FROM G3E_FEATURECOMPONENT), 
'0C20010000001000000001000000010000000C20010000001000000000000000040000000800000000000300000026004800390008000000000000000000080000000000000000000800000000000000000008000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000', null, (SELECT MAX(G3E_ORDINAL)+1 FROM G3E_FEATURECOMPONENT), (SELECT MAX(G3E_ORDINAL)+1 FROM G3E_FEATURECOMPONENT), 0, 3031, 1, SYSDATE, 1, 2, 1, 1, 1, null, 0, 0, null, null, 1, null, null, null, 1, null, null, null, 0);
COMMIT;


CREATE OR REPLACE VIEW VGC_PSGCON_FID_T
(G3E_ID, G3E_FNO, G3E_CNO, G3E_FID, G3E_CID, G3E_GEOMETRY, G3E_ALIGNMENT,
 JOB_ID, JOB_STATE, FEATURE_STATE, SWITCH_CENTRE_CLLI, OWNERSHIP)
AS 
SELECT 
B.G3E_ID,
B.G3E_FNO,
B.G3E_CNO,
B.G3E_FID,
B.G3E_CID,
B.G3E_GEOMETRY,
B.G3E_ALIGNMENT,
D.JOB_ID,
D.JOB_STATE,
D.FEATURE_STATE,
D.SWITCH_CENTRE_CLLI,
D.OWNERSHIP
FROM
GC_FID_T B,
GC_NETELEM D
WHERE
D.G3E_FNO=2800
AND B.G3E_FID=D.G3E_FID;


INSERT INTO G3E_COMPONENTVIEWDEFINITION ( G3E_VNO, G3E_VIEW, G3E_FNO, G3E_CNO, G3E_LENO, G3E_FIELDS,
G3E_EDITDATE, G3E_ATTRAFFECTSMEMBERSHIP )
VALUES (2800 + 40, 'VGC_PSGCON_FID_T', 2800, 40, NULL, NULL, SYSDATE, 0); 
COMMIT;

INSERT INTO G3E_COMPONENTVIEWCOMPOSITION ( G3E_CVCNO, G3E_VNO, G3E_CNO, G3E_FNO )
VALUES ((2800 + 40) * 100 + 40, 2800 + 40, 40, 2800);
COMMIT;


INSERT INTO G3E_COLUMN_METADATA ( TABLENAME, COLUMNNAME, COLUMNTYPE, COLUMNSUBTYPE, ATTRIBUTES, GEOMETRYFORMAT,
 SDOORDCNT, SDOESEQ, COORDSYSTEMINDEX ) 
VALUES ('VGC_PSGCON_FID_T', 'G3E_GEOMETRY', 32, 10, NULL, NULL, 2, NULL, NULL);
COMMIT; 


INSERT INTO MODIFIEDTABLES ( MODIFIEDTABLEID, TABLENAME) 
VALUES ((select max(MODIFIEDTABLEID)+1 from MODIFIEDTABLES),'VGC_PSGCON_FID_T');
COMMIT;



BEGIN
create_component_view.create_geom_component_view ('VGC_PSGCON_FID_T','GC_FID_T');
END;
/



INSERT INTO G3E_LEGENDENTRY (G3E_LENO, G3E_LEGENDENTRY, G3E_USERNAME, G3E_VNO, G3E_SRNO, G3E_LRNO,
G3E_EDITDATE, G3E_ROLE ) VALUES ( 
((2800 + 40)*100 + 40), 'VGC_PSGCON_FID_T', 'Texto FID do Conector de Passagem', 2800 + 40, 2905507, 3275007, SYSDATE, 'EVERYONE');
COMMIT;

UPDATE G3E_COMPONENTVIEWDEFINITION SET G3E_LENO=((2800 + 40)*100 + 40) WHERE G3E_VNO=2800 + 40;
COMMIT;


INSERT INTO G3E_LEGGEO_DEFAULT ( G3E_LENO, G3E_DISPLAYMODE, G3E_DISPLAYSCALEMIN, G3E_DISPLAYSCALEMAX
, G3E_DISPLAYORDINAL, G3E_USEDISPLAYSCALE, G3E_LOCATABLE ) VALUES ( 
((2800 + 40)*100 + 40), 1, 1, 10000, 5, 1, 1); 
COMMIT;

UPDATE G3E_LEGGEO_DEFDSP SET G3E_ORDINAL = G3E_ORDINAL + 3 WHERE G3E_ORDINAL>(SELECT D.G3E_ORDINAL FROM G3E_LEGGEO_DEFDSP D WHERE D.G3E_LEGENDITEM = 'Passage Connector');

INSERT INTO G3E_LEGGEO_DEFDSP ( G3E_LEGENDITEM, G3E_USERNAME, G3E_LEVEL, G3E_ORDINAL
, G3E_LEAFINDICATOR, G3E_DCROWNO ) VALUES ( 
'VGC_PSGCON_FID_T', 'Texto FID do Conector de Passagem', 3, (SELECT G3E_ORDINAL+1 FROM G3E_LEGGEO_DEFDSP WHERE G3E_LEGENDITEM = 'Passage Connector'), 1, (select max(G3E_DCROWNO)+1 from G3E_LEGGEO_DEFDSP)); 
COMMIT;



insert into publicador_ddc_view values ((SELECT MAX(ID)+1 FROM PUBLICADOR_DDC_VIEW), (SELECT MAX(PUBLICADOR_DDC)+1 FROM PUBLICADOR_DDC_VIEW), 'VGC_PSGCON_FID_T'); 
COMMIT;

/*-------------------------------------------------------------ONU------------------------------------------------------------*/
insert into g3e_featurecomponent (G3E_FCNO, G3E_FNO, G3E_CNO, G3E_REQUIRED, G3E_REPEATING, G3E_AUTOREPEAT, G3E_PINO, G3E_ORDINAL, G3E_INTERFACEARGUMENT, G3E_DERIVEDFROMCNO, G3E_INSERTORDINAL, G3E_DELETEORDINAL, G3E_REFRESH, G3E_ALTERNATEREQUIREDCNO, G3E_REPLACE, G3E_EDITDATE, G3E_BREAKACTION, G3E_COMPONENTELIMINATION, G3E_COMPONENTASSIGNMENT, G3E_COMPONENTADJUSTMENT, G3E_GEOPROXIMITYTOLERANCE, G3E_BREAKLINEARCNO, G3E_ALTERNATEGEOGRAPHIC, G3E_ALTERNATEGEOORDINAL, G3E_RINO, G3E_RIARGGROUPNO, G3E_INCLUDEINPLACEMENT, G3E_MERGEMAXDISTANCE, G3E_MERGECOMMONPRECOND, G3E_MERGEPRECOND, G3E_MERGEOCCURRENCES, G3E_MERGERINO, G3E_MERGERIARGGROUPNO, G3E_CCNO, G3E_GENERATE)
values (12100 + 40, 12100, 40, 0, 0, 0, 7, (SELECT MAX(G3E_ORDINAL)+1 FROM G3E_FEATURECOMPONENT), 
'0C20010000001000000001000000010000000C20010000001000000000000000040000000800000000000300000026004800390008000000000000000000080000000000000000000800000000000000000008000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000', null, (SELECT MAX(G3E_ORDINAL)+1 FROM G3E_FEATURECOMPONENT), (SELECT MAX(G3E_ORDINAL)+1 FROM G3E_FEATURECOMPONENT), 0, 3031, 1, SYSDATE, 1, 2, 1, 1, 1, null, 0, 0, null, null, 1, null, null, null, 1, null, null, null, 0);
COMMIT;


CREATE OR REPLACE VIEW VGC_ONU_FID_T
(G3E_ID, G3E_FNO, G3E_CNO, G3E_FID, G3E_CID, G3E_GEOMETRY, G3E_ALIGNMENT,
 JOB_ID, JOB_STATE, FEATURE_STATE, SWITCH_CENTRE_CLLI, OWNERSHIP)
AS 
SELECT 
B.G3E_ID,
B.G3E_FNO,
B.G3E_CNO,
B.G3E_FID,
B.G3E_CID,
B.G3E_GEOMETRY,
B.G3E_ALIGNMENT,
D.JOB_ID,
D.JOB_STATE,
D.FEATURE_STATE,
D.SWITCH_CENTRE_CLLI,
D.OWNERSHIP
FROM
GC_FID_T B,
GC_NETELEM D
WHERE
D.G3E_FNO=12100
AND B.G3E_FID=D.G3E_FID;


INSERT INTO G3E_COMPONENTVIEWDEFINITION ( G3E_VNO, G3E_VIEW, G3E_FNO, G3E_CNO, G3E_LENO, G3E_FIELDS,
G3E_EDITDATE, G3E_ATTRAFFECTSMEMBERSHIP )
VALUES (12100 + 40, 'VGC_ONU_FID_T', 12100, 40, NULL, NULL, SYSDATE, 0);
COMMIT;

INSERT INTO G3E_COMPONENTVIEWCOMPOSITION ( G3E_CVCNO, G3E_VNO, G3E_CNO, G3E_FNO )
VALUES ((12100 + 40) * 100 + 40, 12100 + 40, 40, 12100);
COMMIT;


INSERT INTO G3E_COLUMN_METADATA ( TABLENAME, COLUMNNAME, COLUMNTYPE, COLUMNSUBTYPE, ATTRIBUTES, GEOMETRYFORMAT,
 SDOORDCNT, SDOESEQ, COORDSYSTEMINDEX ) 
VALUES ('VGC_ONU_FID_T', 'G3E_GEOMETRY', 32, 10, NULL, NULL, 2, NULL, NULL);
COMMIT; 


INSERT INTO MODIFIEDTABLES ( MODIFIEDTABLEID, TABLENAME) 
VALUES ((select max(MODIFIEDTABLEID)+1 from MODIFIEDTABLES),'VGC_ONU_FID_T');
COMMIT;


BEGIN
create_component_view.create_geom_component_view ('VGC_ONU_FID_T','GC_FID_T');
END;
/




INSERT INTO G3E_LEGENDENTRY (G3E_LENO, G3E_LEGENDENTRY, G3E_USERNAME, G3E_VNO, G3E_SRNO, G3E_LRNO,
G3E_EDITDATE, G3E_ROLE ) VALUES ( 
((12100 + 40)*100 + 40), 'VGC_ONU_FID_T', 'Texto FID do ONU', 12100 + 40, 2905507, 3275007, SYSDATE, 'EVERYONE');
COMMIT;

UPDATE G3E_COMPONENTVIEWDEFINITION SET G3E_LENO=((12100 + 40)*100 + 40) WHERE G3E_VNO=12100 + 40;
COMMIT;


INSERT INTO G3E_LEGGEO_DEFAULT ( G3E_LENO, G3E_DISPLAYMODE, G3E_DISPLAYSCALEMIN, G3E_DISPLAYSCALEMAX
, G3E_DISPLAYORDINAL, G3E_USEDISPLAYSCALE, G3E_LOCATABLE ) VALUES ( 
((12100 + 40)*100 + 40), 1, 1, 10000, 5, 1, 1); 
COMMIT;

UPDATE G3E_LEGGEO_DEFDSP SET G3E_ORDINAL = G3E_ORDINAL + 3 WHERE G3E_ORDINAL>(SELECT D.G3E_ORDINAL FROM G3E_LEGGEO_DEFDSP D WHERE D.G3E_LEGENDITEM = 'ONU');

INSERT INTO G3E_LEGGEO_DEFDSP ( G3E_LEGENDITEM, G3E_USERNAME, G3E_LEVEL, G3E_ORDINAL
, G3E_LEAFINDICATOR, G3E_DCROWNO ) VALUES ( 
'VGC_ONU_FID_T', 'Texto FID do ONU', 3, (SELECT G3E_ORDINAL+1 FROM G3E_LEGGEO_DEFDSP WHERE G3E_LEGENDITEM = 'ONU'), 1, (select max(G3E_DCROWNO)+1 from G3E_LEGGEO_DEFDSP)); 
COMMIT;


insert into publicador_ddc_view values ((SELECT MAX(ID)+1 FROM PUBLICADOR_DDC_VIEW), (SELECT MAX(PUBLICADOR_DDC)+1 FROM PUBLICADOR_DDC_VIEW), 'VGC_ONU_FID_T'); 
COMMIT;


--Colocar o buffer no OUTPUT em um valor alto
BEGIN
MG3ElanguageSubTableUtils.SynchronizeSubTables;
MG3EConfiguration.SetConfiguration('OI');
MG3EOTCreateOptimizedTables;
MG3ECreateOptableViews;
END;
/

 
BEGIN
LTT_Role.Create_LTT_View_Synonym;
LTT_Role.Create_Component_View_Synonym;
LTT_Role.Grant_Privs_To_Role; 
END;
/

BEGIN
g3e_metadata.create_gdometadata;
GDOTriggers.Create_GDOTriggers;
END;
/